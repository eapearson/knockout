!function(b){var h,c=this||eval("this"),d=c.document,e=c.navigator,f=c.jQuery,g=c.JSON;f||"undefined"==typeof jQuery||(f=jQuery),h=function(t,r){var u,n,i,o,p,m,H=void 0!==t?t:{};H.exportSymbol=function(e,t){for(var n=e.split("."),i=H,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=t},H.exportProperty=function(e,t,n){e[t]=n},H.version="3.5.1-beta5",H.exportSymbol("version",H.version),H.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},H.utils=function(){var o=Object.prototype.hasOwnProperty;function m(e,t){for(var n in e)o.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}function n(e,t){return e.__proto__=t,e}var i={__proto__:[]}instanceof Array,r="function"==typeof Symbol,s={},a={};s[e&&/Firefox\/2/i.test(e.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],s.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"],m(s,function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)a[t[n]]=e});var l,u={propertychange:!0},p=d&&function(){for(var e=3,t=d.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return 4<e?e:b}(),v=6===p,h=7===p,y=/\S+/g;function x(e,t,n,i){var r=e[t].match(y)||[];H.utils.arrayForEach(n.match(y),function(e){H.utils.addOrRemoveItem(r,e,i)}),e[t]=r.join(" ")}return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(e,t,n){for(var i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},arrayIndexOf:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},arrayFirst:function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return e[i];return b},arrayRemoveItem:function(e,t){var n=H.utils.arrayIndexOf(e,t);0<n?e.splice(n,1):0===n&&e.shift()},arrayGetDistinctValues:function(e){var t=[];return e&&H.utils.arrayForEach(e,function(e){H.utils.arrayIndexOf(t,e)<0&&t.push(e)}),t},arrayMap:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)i.push(t.call(n,e[r],r));return i},arrayFilter:function(e,t,n){var i=[];if(e)for(var r=0,o=e.length;r<o;r++)t.call(n,e[r],r)&&i.push(e[r]);return i},arrayPushAll:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},addOrRemoveItem:function(e,t,n){var i=H.utils.arrayIndexOf(H.utils.peekObservable(e),t);i<0?n&&e.push(t):n||e.splice(i,1)},canSetPrototype:i,extend:t,setPrototypeOf:n,setPrototypeOfOrExtend:i?n:t,objectForEach:m,objectMap:function(e,t,n){if(!e)return e;var i={};for(var r in e)o.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i},emptyDomNode:function(e){for(;e.firstChild;)H.removeNode(e.firstChild)},moveCleanedNodesToContainerElement:function(e){for(var t=H.utils.makeArray(e),n=(t[0]&&t[0].ownerDocument||d).createElement("div"),i=0,r=t.length;i<r;i++)n.appendChild(H.cleanNode(t[i]));return n},cloneNodes:function(e,t){for(var n=0,i=e.length,r=[];n<i;n++){var o=e[n].cloneNode(!0);r.push(t?H.cleanNode(o):o)}return r},setDomNodeChildren:function(e,t){if(H.utils.emptyDomNode(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},replaceDomNodes:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],r=i.parentNode,o=0,s=t.length;o<s;o++)r.insertBefore(t[o],i);for(o=0,s=n.length;o<s;o++)H.removeNode(n[o])}},fixUpContinuousNodeArray:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},setOptionNodeSelectionState:function(e,t){p<7?e.setAttribute("selected",t):e.selected=t},stringTrim:function(e){return null===e||e===b?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},stringStartsWith:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},domNodeIsContainedBy:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},domNodeIsAttachedToDocument:function(e){return H.utils.domNodeIsContainedBy(e,e.ownerDocument.documentElement)},anyDomNodeIsAttachedToDocument:function(e){return!!H.utils.arrayFirst(e,H.utils.domNodeIsAttachedToDocument)},tagNameLower:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},catchFunctionErrors:function(e){return H.onError?function(){try{return e.apply(this,arguments)}catch(e){throw H.onError&&H.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(H.utils.catchFunctionErrors(e),t)},deferError:function(e){setTimeout(function(){throw H.onError&&H.onError(e),e},0)},registerEventHandler:function(t,e,n){var i=H.utils.catchFunctionErrors(n),r=u[e];if(H.options.useOnlyNativeEvents||r||!f)if(r||"function"!=typeof t.addEventListener){if(void 0===t.attachEvent)throw new Error("Browser doesn't support addEventListener or attachEvent");var o=function(e){i.call(t,e)},s="on"+e;t.attachEvent(s,o),H.utils.domNodeDisposal.addDisposeCallback(t,function(){t.detachEvent(s,o)})}else t.addEventListener(e,i,!1);else l||(l="function"==typeof f(t).on?"on":"bind"),f(t)[l](e,i)},triggerEvent:function(e,t){if(!e||!e.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");var n=function(e,t){if("input"!==H.utils.tagNameLower(e)||!e.type)return!1;if("click"!=t.toLowerCase())return!1;var n=e.type;return"checkbox"==n||"radio"==n}(e,t);if(H.options.useOnlyNativeEvents||!f||n)if("function"==typeof d.createEvent){if("function"!=typeof e.dispatchEvent)throw new Error("The supplied element doesn't support dispatchEvent");var i=a[t]||"HTMLEvents",r=d.createEvent(i);r.initEvent(t,!0,!0,c,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(r)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw new Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else f(e).trigger(t)},unwrapObservable:function(e){return H.isObservable(e)?e():e},peekObservable:function(e){return H.isObservable(e)?e.peek():e},toggleDomNodeCssClass:function(t,e,n){var i;e&&("object"==typeof t.classList?(i=t.classList[n?"add":"remove"],H.utils.arrayForEach(e.match(y),function(e){i.call(t.classList,e)})):"string"==typeof t.className.baseVal?x(t.className,"baseVal",e,n):x(t,"className",e,n))},setTextContent:function(e,t){var n=H.utils.unwrapObservable(t);null!==n&&n!==b||(n="");var i=H.virtualElements.firstChild(e);!i||3!=i.nodeType||H.virtualElements.nextSibling(i)?H.virtualElements.setDomNodeChildren(e,[e.ownerDocument.createTextNode(n)]):i.data=n,H.utils.forceRefresh(e)},setElementName:function(e,t){if(e.name=t,p<=7)try{var n=e.name.replace(/[&<>'"]/g,function(e){return"&#"+e.charCodeAt(0)+";"});e.mergeAttributes(d.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},forceRefresh:function(e){if(9<=p){var t=1==e.nodeType?e:e.parentNode;t.style&&(t.style.zoom=t.style.zoom)}},ensureSelectElementIsRenderedCorrectly:function(e){if(p){var t=e.style.width;e.style.width=0,e.style.width=t}},range:function(e,t){e=H.utils.unwrapObservable(e),t=H.utils.unwrapObservable(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},makeArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},createSymbolOrString:function(e){return r?Symbol(e):e},isIe6:v,isIe7:h,ieVersion:p,getFormFields:function(e,t){for(var n=H.utils.makeArray(e.getElementsByTagName("input")).concat(H.utils.makeArray(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},r=[],o=n.length-1;0<=o;o--)i(n[o])&&r.push(n[o]);return r},parseJson:function(e){return"string"==typeof e&&(e=H.utils.stringTrim(e))?g&&g.parse?g.parse(e):new Function("return "+e)():null},stringifyJson:function(e,t,n){if(!g||!g.stringify)throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return g.stringify(H.utils.unwrapObservable(e),t,n)},postJson:function(e,t,n){var i=(n=n||{}).params||{},r=n.includeFields||this.fieldsIncludedWithJsonPost,o=e;if("object"==typeof e&&"form"===H.utils.tagNameLower(e)){var s=e;o=s.action;for(var a=r.length-1;0<=a;a--)for(var l=H.utils.getFormFields(s,r[a]),u=l.length-1;0<=u;u--)i[l[u].name]=l[u].value}t=H.utils.unwrapObservable(t);var c=d.createElement("form");for(var p in c.style.display="none",c.action=o,c.method="post",t){var f=d.createElement("input");f.type="hidden",f.name=p,f.value=H.utils.stringifyJson(H.utils.unwrapObservable(t[p])),c.appendChild(f)}m(i,function(e,t){var n=d.createElement("input");n.type="hidden",n.name=e,n.value=t,c.appendChild(n)}),d.body.appendChild(c),n.submitter?n.submitter(c):c.submit(),setTimeout(function(){c.parentNode.removeChild(c)},0)}}}(),H.exportSymbol("utils",H.utils),H.exportSymbol("utils.arrayForEach",H.utils.arrayForEach),H.exportSymbol("utils.arrayFirst",H.utils.arrayFirst),H.exportSymbol("utils.arrayFilter",H.utils.arrayFilter),H.exportSymbol("utils.arrayGetDistinctValues",H.utils.arrayGetDistinctValues),H.exportSymbol("utils.arrayIndexOf",H.utils.arrayIndexOf),H.exportSymbol("utils.arrayMap",H.utils.arrayMap),H.exportSymbol("utils.arrayPushAll",H.utils.arrayPushAll),H.exportSymbol("utils.arrayRemoveItem",H.utils.arrayRemoveItem),H.exportSymbol("utils.cloneNodes",H.utils.cloneNodes),H.exportSymbol("utils.createSymbolOrString",H.utils.createSymbolOrString),H.exportSymbol("utils.extend",H.utils.extend),H.exportSymbol("utils.fieldsIncludedWithJsonPost",H.utils.fieldsIncludedWithJsonPost),H.exportSymbol("utils.getFormFields",H.utils.getFormFields),H.exportSymbol("utils.objectMap",H.utils.objectMap),H.exportSymbol("utils.peekObservable",H.utils.peekObservable),H.exportSymbol("utils.postJson",H.utils.postJson),H.exportSymbol("utils.parseJson",H.utils.parseJson),H.exportSymbol("utils.registerEventHandler",H.utils.registerEventHandler),H.exportSymbol("utils.stringifyJson",H.utils.stringifyJson),H.exportSymbol("utils.range",H.utils.range),H.exportSymbol("utils.toggleDomNodeCssClass",H.utils.toggleDomNodeCssClass),H.exportSymbol("utils.triggerEvent",H.utils.triggerEvent),H.exportSymbol("utils.unwrapObservable",H.utils.unwrapObservable),H.exportSymbol("utils.objectForEach",H.utils.objectForEach),H.exportSymbol("utils.addOrRemoveItem",H.utils.addOrRemoveItem),H.exportSymbol("utils.setTextContent",H.utils.setTextContent),H.exportSymbol("unwrap",H.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(1===arguments.length)return function(){return n.apply(t,arguments)};var i=Array.prototype.slice.call(arguments,1);return function(){var e=i.slice(0);return e.push.apply(e,arguments),n.apply(t,e)}}),H.utils.domData=new function(){var r,i=0,o="__ko__"+(new Date).getTime(),s={};return{get:function(e,t){var n=r(e,!1);return n&&n[t]},set:function(e,t,n){var i=r(e,n!==b);i&&(i[t]=n)},getOrSet:function(e,t,n){var i=r(e,!0);return i[t]||(i[t]=n)},clear:H.utils.ieVersion?(r=function(e,t){var n=e[o];if(!n||"null"===n||!s[n]){if(!t)return b;n=e[o]="ko"+i++,s[n]={}}return s[n]},function(e){var t=e[o];return!(!t||(delete s[t],e[o]=null))}):(r=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},function(e){return!!e[o]&&(delete e[o],!0)}),nextKey:function(){return i+++o}}},H.exportSymbol("utils.domData",H.utils.domData),H.exportSymbol("utils.domData.clear",H.utils.domData.clear),H.utils.domNodeDisposal=new function(){var r=H.utils.domData.nextKey(),t={1:!0,8:!0,9:!0},i={1:!0,9:!0};function o(e,t){var n=H.utils.domData.get(e,r);return n===b&&t&&(n=[],H.utils.domData.set(e,r,n)),n}function s(e){var t=o(e,!1);if(t){t=t.slice(0);for(var n=0;n<t.length;n++)t[n](e)}H.utils.domData.clear(e),H.utils.domNodeDisposal.cleanExternalData(e),i[e.nodeType]&&a(e.childNodes,!0)}function a(e,t){for(var n,i=[],r=0;r<e.length;r++)if((!t||8===e[r].nodeType)&&(s(i[i.length]=n=e[r]),e[r]!==n))for(;r--&&-1==H.utils.arrayIndexOf(i,e[r]););}return{addDisposeCallback:function(e,t){if("function"!=typeof t)throw new Error("Callback must be a function");o(e,!0).push(t)},removeDisposeCallback:function(e,t){var n,i=o(e,!1);i&&(H.utils.arrayRemoveItem(i,t),0==i.length&&(n=e,H.utils.domData.set(n,r,b)))},cleanNode:function(e){return t[e.nodeType]&&(s(e),i[e.nodeType]&&a(e.getElementsByTagName("*"))),e},removeNode:function(e){H.cleanNode(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){f&&"function"==typeof f.cleanData&&f.cleanData([e])}}},H.cleanNode=H.utils.domNodeDisposal.cleanNode,H.removeNode=H.utils.domNodeDisposal.removeNode,H.exportSymbol("cleanNode",H.cleanNode),H.exportSymbol("removeNode",H.removeNode),H.exportSymbol("utils.domNodeDisposal",H.utils.domNodeDisposal),H.exportSymbol("utils.domNodeDisposal.addDisposeCallback",H.utils.domNodeDisposal.addDisposeCallback),H.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",H.utils.domNodeDisposal.removeDisposeCallback),u=[0,"",""],p={thead:n=[1,"<table>","</table>"],tbody:n,tfoot:n,tr:[2,"<table><tbody>","</tbody></table>"],td:i=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:i,option:o=[1,"<select multiple='multiple'>","</select>"],optgroup:o},m=H.utils.ieVersion<=8,H.utils.parseHtmlFragment=function(e,t){return f?function(e,t){if(f.parseHTML)return f.parseHTML(e,t)||[];var n=f.clean([e],t);if(n&&n[0]){for(var i=n[0];i.parentNode&&11!==i.parentNode.nodeType;)i=i.parentNode;i.parentNode&&i.parentNode.removeChild(i)}return n}(e,t):function(e,t){t||(t=d);var n,i=t.parentWindow||t.defaultView||c,r=H.utils.stringTrim(e).toLowerCase(),o=t.createElement("div"),s=(n=r.match(/^(?:<!--.*?-->\s*?)*?<([a-z]+)[\s>]/))&&p[n[1]]||u,a=s[0],l="ignored<div>"+s[1]+e+s[2]+"</div>";for("function"==typeof i.innerShiv?o.appendChild(i.innerShiv(l)):(m&&t.body.appendChild(o),o.innerHTML=l,m&&o.parentNode.removeChild(o));a--;)o=o.lastChild;return H.utils.makeArray(o.lastChild.childNodes)}(e,t)},H.utils.parseHtmlForTemplateNodes=function(e,t){var n=H.utils.parseHtmlFragment(e,t);return n.length&&n[0].parentElement||H.utils.moveCleanedNodesToContainerElement(n)},H.utils.setHtml=function(e,t){if(H.utils.emptyDomNode(e),null!==(t=H.utils.unwrapObservable(t))&&t!==b)if("string"!=typeof t&&(t=t.toString()),f)f(e).html(t);else for(var n=H.utils.parseHtmlFragment(t,e.ownerDocument),i=0;i<n.length;i++)e.appendChild(n[i])},H.exportSymbol("utils.parseHtmlFragment",H.utils.parseHtmlFragment),H.exportSymbol("utils.setHtml",H.utils.setHtml),H.memoization=function(){var i={};function n(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}return{memoize:function(e){if("function"!=typeof e)throw new Error("You can only pass a function to ko.memoization.memoize()");var t=n()+n();return i[t]=e,"\x3c!--[ko_memo:"+t+"]--\x3e"},unmemoize:function(e,t){var n=i[e];if(n===b)throw new Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return n.apply(null,t||[]),!0}finally{delete i[e]}},unmemoizeDomNodeAndDescendants:function(e,t){var n=[];(function e(t,n){if(t)if(8==t.nodeType){var i=H.memoization.parseMemoText(t.nodeValue);null!=i&&n.push({domNode:t,memoId:i})}else if(1==t.nodeType)for(var r=0,o=t.childNodes,s=o.length;r<s;r++)e(o[r],n)})(e,n);for(var i=0,r=n.length;i<r;i++){var o=n[i].domNode,s=[o];t&&H.utils.arrayPushAll(s,t),H.memoization.unmemoize(n[i].memoId,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},parseMemoText:function(e){var t=e.match(/^\[ko_memo\:(.*?)\]$/);return t?t[1]:null}}}(),H.exportSymbol("memoization",H.memoization),H.exportSymbol("memoization.memoize",H.memoization.memoize),H.exportSymbol("memoization.unmemoize",H.memoization.unmemoize),H.exportSymbol("memoization.parseMemoText",H.memoization.parseMemoText),H.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",H.memoization.unmemoizeDomNodeAndDescendants),H.tasks=function(){var e,t,i=[],r=0,n=1,o=0;function s(){if(r)for(var e,t=r,n=0;o<r;)if(e=i[o++]){if(t<o){if(5e3<=++n){o=r,H.utils.deferError(Error("'Too much recursion' after processing "+n+" task groups."));break}t=r}try{e()}catch(e){H.utils.deferError(e)}}}function a(){s(),o=r=i.length=0}return{scheduler:c.MutationObserver?(e=a,t=d.createElement("div"),new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}):d&&"onreadystatechange"in d.createElement("script")?function(e){var t=d.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,d.documentElement.removeChild(t),t=null,e()},d.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},schedule:function(e){return r||H.tasks.scheduler(a),i[r++]=e,n++},cancel:function(e){var t=e-(n-r);o<=t&&t<r&&(i[t]=null)},resetForTesting:function(){var e=r-o;return o=r=i.length=0,e},runEarly:s}}(),H.exportSymbol("tasks",H.tasks),H.exportSymbol("tasks.schedule",H.tasks.schedule),H.exportSymbol("tasks.runEarly",H.tasks.runEarly),H.extenders={throttle:function(t,n){t.throttleEvaluation=n;var i=null;return H.dependentObservable({read:t,write:function(e){clearTimeout(i),i=H.utils.setTimeout(function(){t(e)},n)}})},rateLimit:function(e,t){var n,i,r;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e._deferUpdates=!1,r="function"==typeof i?i:"notifyWhenChangesStop"==i?v:l,e.limit(function(e){return r(e,n,t)})},deferred:function(i,e){if(!0!==e)throw new Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");i._deferUpdates||(i._deferUpdates=!0,i.limit(function(e){var t,n=!1;return function(){if(!n){H.tasks.cancel(t),t=H.tasks.schedule(e);try{n=!0,i.notifySubscribers(b,"dirty")}finally{n=!1}}}}))},notify:function(e,t){e.equalityComparer="always"==t?null:a}};var s={undefined:1,boolean:1,number:1,string:1};function a(e,t){return!!(null===e||typeof e in s)&&e===t}function l(e,t){var n;return function(){n||(n=H.utils.setTimeout(function(){n=b,e()},t))}}function v(e,t){var n;return function(){clearTimeout(n),n=H.utils.setTimeout(e,t)}}H.exportSymbol("extenders",H.extenders),H.subscription=function(e,t,n){this._target=e,this._callback=t,this._disposeCallback=n,this._isDisposed=!1,this._node=null,this._domNodeDisposalCallback=null,H.exportProperty(this,"dispose",this.dispose),H.exportProperty(this,"disposeWhenNodeIsRemoved",this.disposeWhenNodeIsRemoved)},H.subscription.prototype.dispose=function(){this._domNodeDisposalCallback&&H.utils.domNodeDisposal.removeDisposeCallback(this._node,this._domNodeDisposalCallback),this._isDisposed=!0,this._disposeCallback()},H.subscription.prototype.disposeWhenNodeIsRemoved=function(e){this._node=e,H.utils.domNodeDisposal.addDisposeCallback(e,this._domNodeDisposalCallback=this.dispose.bind(this))},H.subscribable=function(){H.utils.setPrototypeOfOrExtend(this,x),x.init(this)};var y="change";function h(e,t){t&&t!==y?"beforeChange"===t?this._limitBeforeChange(e):this._origNotifySubscribers(e,t):this._limitChange(e)}var x={init:function(e){e._subscriptions={change:[]},e._versionNumber=1},subscribe:function(e,t,n){var i=this;n=n||y;var r=t?e.bind(t):e,o=new H.subscription(i,r,function(){H.utils.arrayRemoveItem(i._subscriptions[n],o),i.afterSubscriptionRemove&&i.afterSubscriptionRemove(n)});return i.beforeSubscriptionAdd&&i.beforeSubscriptionAdd(n),i._subscriptions[n]||(i._subscriptions[n]=[]),i._subscriptions[n].push(o),o},notifySubscribers:function(e,t){if((t=t||y)===y&&this.updateVersion(),this.hasSubscriptionsForEvent(t)){var n=t===y&&this._changeSubscriptions||this._subscriptions[t].slice(0);try{H.dependencyDetection.begin();for(var i,r=0;i=n[r];++r)i._isDisposed||i._callback(e)}finally{H.dependencyDetection.end()}}},getVersion:function(){return this._versionNumber},hasChanged:function(e){return this.getVersion()!==e},updateVersion:function(){++this._versionNumber},limit:function(e){var n,t,i,r,o,s=this,a=H.isObservable(s);s._origNotifySubscribers||(s._origNotifySubscribers=s.notifySubscribers,s.notifySubscribers=h);var l=e(function(){s._notificationIsPending=!1,a&&r===s&&(r=s._evalIfChanged?s._evalIfChanged():s());var e=t||o&&s.isDifferent(i,r);o=t=n=!1,e&&s._origNotifySubscribers(i=r)});s._limitChange=function(e,t){t&&s._notificationIsPending||(o=!t),s._changeSubscriptions=s._subscriptions[y].slice(0),s._notificationIsPending=n=!0,r=e,l()},s._limitBeforeChange=function(e){n||(i=e,s._origNotifySubscribers(e,"beforeChange"))},s._recordUpdate=function(){o=!0},s._notifyNextChangeIfValueIsDifferent=function(){s.isDifferent(i,s.peek(!0))&&(t=!0)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(e){if(e)return this._subscriptions[e]&&this._subscriptions[e].length||0;var n=0;return H.utils.objectForEach(this._subscriptions,function(e,t){"dirty"!==e&&(n+=t.length)}),n},isDifferent:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var i=this;return e&&H.utils.objectForEach(e,function(e,t){var n=H.extenders[e];"function"==typeof n&&(i=n(i,t)||i)}),i}};H.exportProperty(x,"init",x.init),H.exportProperty(x,"subscribe",x.subscribe),H.exportProperty(x,"extend",x.extend),H.exportProperty(x,"getSubscriptionsCount",x.getSubscriptionsCount),H.utils.canSetPrototype&&H.utils.setPrototypeOf(x,Function.prototype),H.subscribable.fn=x,H.isSubscribable=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},H.exportSymbol("subscribable",H.subscribable),H.exportSymbol("isSubscribable",H.isSubscribable),H.computedContext=H.dependencyDetection=function(){var t,n=[],i=0;function r(e){n.push(t),t=e}function o(){t=n.pop()}return{begin:r,end:o,registerDependency:function(e){if(t){if(!H.isSubscribable(e))throw new Error("Only subscribable things can act as dependencies");t.callback.call(t.callbackTarget,e,e._id||(e._id=++i))}},ignore:function(e,t,n){try{return r(),e.apply(t,n||[])}finally{o()}},getDependenciesCount:function(){if(t)return t.computed.getDependenciesCount()},getDependencies:function(){if(t)return t.computed.getDependencies()},isInitial:function(){if(t)return t.isInitial}}}(),H.exportSymbol("computedContext",H.computedContext),H.exportSymbol("computedContext.getDependenciesCount",H.computedContext.getDependenciesCount),H.exportSymbol("computedContext.getDependencies",H.computedContext.getDependencies),H.exportSymbol("computedContext.isInitial",H.computedContext.isInitial),H.exportSymbol("computedContext.registerDependency",H.computedContext.registerDependency),H.exportSymbol("ignoreDependencies",H.ignoreDependencies=H.dependencyDetection.ignore);var E=H.utils.createSymbolOrString("_latestValue");H.observable=function(e){function t(){return 0<arguments.length?(t.isDifferent(t[E],arguments[0])&&(t.valueWillMutate(),t[E]=arguments[0],t.valueHasMutated()),this):(H.dependencyDetection.registerDependency(t),t[E])}return t[E]=e,H.utils.canSetPrototype||H.utils.extend(t,H.subscribable.fn),H.subscribable.fn.init(t),H.utils.setPrototypeOfOrExtend(t,w),H.options.deferUpdates&&H.extenders.deferred(t,!0),t};var w={equalityComparer:a,peek:function(){return this[E]},valueHasMutated:function(){this.notifySubscribers(this[E],"spectate"),this.notifySubscribers(this[E])},valueWillMutate:function(){this.notifySubscribers(this[E],"beforeChange")}};H.utils.canSetPrototype&&H.utils.setPrototypeOf(w,H.subscribable.fn);var C=H.observable.protoProperty="__ko_proto__";w[C]=H.observable,H.isObservable=function(e){var t="function"==typeof e&&e[C];if(t&&t!==w[C]&&t!==H.computed.fn[C])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!t},H.isWriteableObservable=function(e){return"function"==typeof e&&(e[C]===w[C]||e[C]===H.computed.fn[C]&&e.hasWriteFunction)},H.exportSymbol("observable",H.observable),H.exportSymbol("isObservable",H.isObservable),H.exportSymbol("isWriteableObservable",H.isWriteableObservable),H.exportSymbol("isWritableObservable",H.isWriteableObservable),H.exportSymbol("observable.fn",w),H.exportProperty(w,"peek",w.peek),H.exportProperty(w,"valueHasMutated",w.valueHasMutated),H.exportProperty(w,"valueWillMutate",w.valueWillMutate),H.observableArray=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");var t=H.observable(e);return H.utils.setPrototypeOfOrExtend(t,H.observableArray.fn),t.extend({trackArrayChanges:!0})},H.observableArray.fn={remove:function(t){for(var e=this.peek(),n=[],i="function"!=typeof t||H.isObservable(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var o=e[r];if(i(o)){if(0===n.length&&this.valueWillMutate(),e[r]!==o)throw Error("Array modified during remove; cannot remove item");n.push(o),e.splice(r,1),r--}}return n.length&&this.valueHasMutated(),n},removeAll:function(t){if(t!==b)return t?this.remove(function(e){return 0<=H.utils.arrayIndexOf(t,e)}):[];var e=this.peek(),n=e.slice(0);return this.valueWillMutate(),e.splice(0,e.length),this.valueHasMutated(),n},destroy:function(t){var e=this.peek(),n="function"!=typeof t||H.isObservable(t)?function(e){return e===t}:t;this.valueWillMutate();for(var i=e.length-1;0<=i;i--){var r=e[i];n(r)&&(r._destroy=!0)}this.valueHasMutated()},destroyAll:function(t){return t===b?this.destroy(function(){return!0}):t?this.destroy(function(e){return 0<=H.utils.arrayIndexOf(t,e)}):[]},indexOf:function(e){var t=this();return H.utils.arrayIndexOf(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.valueWillMutate(),this.peek()[n]=t,this.valueHasMutated())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},H.utils.canSetPrototype&&H.utils.setPrototypeOf(H.observableArray.fn,H.observable.fn),H.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(n){H.observableArray.fn[n]=function(){var e=this.peek();this.valueWillMutate(),this.cacheDiffForKnownOperation(e,n,arguments);var t=e[n].apply(e,arguments);return this.valueHasMutated(),t===e?this:t}}),H.utils.arrayForEach(["slice"],function(t){H.observableArray.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),H.isObservableArray=function(e){return H.isObservable(e)&&"function"==typeof e.remove&&"function"==typeof e.push},H.exportSymbol("observableArray",H.observableArray),H.exportSymbol("isObservableArray",H.isObservableArray);var S="arrayChange";H.extenders.trackArrayChanges=function(o,e){if(o.compareArrayOptions={},e&&"object"==typeof e&&H.utils.extend(o.compareArrayOptions,e),o.compareArrayOptions.sparse=!0,!o.cacheDiffForKnownOperation){var t,n,v=!1,g=null,h=0,i=o.beforeSubscriptionAdd,r=o.afterSubscriptionRemove;o.beforeSubscriptionAdd=function(e){i&&i.call(o,e),e===S&&function(){if(!v){v=!0,n=o.notifySubscribers,o.notifySubscribers=function(e,t){return t&&t!==y||++h,n.apply(this,arguments)};var r=[].concat(o.peek()||[]);g=null,t=o.subscribe(function(e){if(e=[].concat(e||[]),o.hasSubscriptionsForEvent(S))var t=(n=r,i=e,(!g||1<h)&&(g=H.utils.compareArrays(n,i,o.compareArrayOptions)),g);var n,i;r=e,g=null,h=0,t&&t.length&&o.notifySubscribers(t,S)})}}()},o.afterSubscriptionRemove=function(e){r&&r.call(o,e),e!==S||o.hasSubscriptionsForEvent(S)||(n&&(o.notifySubscribers=n,n=b),t&&t.dispose(),t=null,v=!1)},o.cacheDiffForKnownOperation=function(e,t,n){if(v&&!h){var i=[],r=e.length,o=n.length,s=0;switch(t){case"push":s=r;case"unshift":for(var a=0;a<o;a++)b("added",n[a],s+a);break;case"pop":s=r-1;case"shift":r&&b("deleted",e[s],s);break;case"splice":for(var l=Math.min(Math.max(0,n[0]<0?r+n[0]:n[0]),r),u=1===o?r:Math.min(l+(n[1]||0),r),d=l+o-2,c=Math.max(u,d),p=[],f=[],m=(a=l,2);a<c;++a,++m)a<u&&f.push(b("deleted",e[a],a)),a<d&&p.push(b("added",n[m],a));H.utils.findMovesInArrayComparison(f,p);break;default:return}g=i}function b(e,t,n){return i[i.length]={status:e,value:t,index:n}}}}};var D=H.utils.createSymbolOrString("_state");function N(e,t){null!==t&&t.dispose&&t.dispose()}function T(e,t){var n=this.computedObservable,i=n[D];i.isDisposed||(this.disposalCount&&this.disposalCandidates[t]?(n.addDependencyTracking(t,e,this.disposalCandidates[t]),this.disposalCandidates[t]=null,--this.disposalCount):i.dependencyTracking[t]||n.addDependencyTracking(t,e,i.isSleeping?{_target:e}:n.subscribeToDependency(e)),e._notificationIsPending&&e._notifyNextChangeIfValueIsDifferent())}H.computed=H.dependentObservable=function(e,t,n){if("object"==typeof e?n=e:(n=n||{},e&&(n.read=e)),"function"!=typeof n.read)throw Error("Pass a function that returns the value of the ko.computed");var i=n.write,r={latestValue:b,isStale:!0,isDirty:!0,isBeingEvaluated:!1,suppressDisposalUntilDisposeWhenReturnsFalse:!1,isDisposed:!1,pure:!1,isSleeping:!1,readFunction:n.read,evaluatorFunctionTarget:t||n.owner,disposeWhenNodeIsRemoved:n.disposeWhenNodeIsRemoved||n.disposeWhenNodeIsRemoved||null,disposeWhen:n.disposeWhen||n.disposeWhen,domNodeDisposalCallback:null,dependencyTracking:{},dependenciesCount:0,evaluationTimeoutInstance:null};function o(){if(0<arguments.length){if("function"!=typeof i)throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return i.apply(r.evaluatorFunctionTarget,arguments),this}return r.isDisposed||H.dependencyDetection.registerDependency(o),(r.isDirty||r.isSleeping&&o.haveDependenciesChanged())&&o.evaluateImmediate(),r.latestValue}return o[D]=r,o.hasWriteFunction="function"==typeof i,H.utils.canSetPrototype||H.utils.extend(o,H.subscribable.fn),H.subscribable.fn.init(o),H.utils.setPrototypeOfOrExtend(o,k),n.pure?(r.pure=!0,r.isSleeping=!0,H.utils.extend(o,O)):n.deferEvaluation&&H.utils.extend(o,_),H.options.deferUpdates&&H.extenders.deferred(o,!0),r.disposeWhenNodeIsRemoved&&(r.suppressDisposalUntilDisposeWhenReturnsFalse=!0,r.disposeWhenNodeIsRemoved.nodeType||(r.disposeWhenNodeIsRemoved=null)),r.isSleeping||n.deferEvaluation||o.evaluateImmediate(),r.disposeWhenNodeIsRemoved&&o.isActive()&&H.utils.domNodeDisposal.addDisposeCallback(r.disposeWhenNodeIsRemoved,r.domNodeDisposalCallback=function(){o.dispose()}),o};var k={equalityComparer:a,getDependenciesCount:function(){return this[D].dependenciesCount},getDependencies:function(){var e=this[D].dependencyTracking,n=[];return H.utils.objectForEach(e,function(e,t){n[t._order]=t._target}),n},addDependencyTracking:function(e,t,n){if(this[D].pure&&t===this)throw Error("A 'pure' computed must not be called recursively");(this[D].dependencyTracking[e]=n)._order=this[D].dependenciesCount++,n._version=t.getVersion()},haveDependenciesChanged:function(){var e,t,n=this[D].dependencyTracking;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this._evalDelayed&&t._target._notificationIsPending||t._target.hasChanged(t._version)))return!0},markDirty:function(){this._evalDelayed&&!this[D].isBeingEvaluated&&this._evalDelayed(!1)},isActive:function(){var e=this[D];return e.isDirty||0<e.dependenciesCount},respondToChange:function(){this._notificationIsPending?this[D].isDirty&&(this[D].isStale=!0):this.evaluatePossiblyAsync()},subscribeToDependency:function(e){if(e._deferUpdates){var t=e.subscribe(this.markDirty,this,"dirty"),n=e.subscribe(this.respondToChange,this);return{_target:e,dispose:function(){t.dispose(),n.dispose()}}}return e.subscribe(this.evaluatePossiblyAsync,this)},evaluatePossiblyAsync:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[D].evaluationTimeoutInstance),this[D].evaluationTimeoutInstance=H.utils.setTimeout(function(){e.evaluateImmediate(!0)},t)):e._evalDelayed?e._evalDelayed(!0):e.evaluateImmediate(!0)},evaluateImmediate:function(e){var t=this[D],n=t.disposeWhen,i=!1;if(!t.isBeingEvaluated&&!t.isDisposed){if(t.disposeWhenNodeIsRemoved&&!H.utils.domNodeIsAttachedToDocument(t.disposeWhenNodeIsRemoved)||n&&n()){if(!t.suppressDisposalUntilDisposeWhenReturnsFalse)return void this.dispose()}else t.suppressDisposalUntilDisposeWhenReturnsFalse=!1;t.isBeingEvaluated=!0;try{i=this.evaluateImmediate_CallReadWithDependencyDetection(e)}finally{t.isBeingEvaluated=!1}return i}},evaluateImmediate_CallReadWithDependencyDetection:function(e){var t,n=this,i=n[D],r=i.pure?b:!i.dependenciesCount,o={computedObservable:n,disposalCandidates:i.dependencyTracking,disposalCount:i.dependenciesCount};H.dependencyDetection.begin({callbackTarget:o,callback:T,computed:n,isInitial:r}),i.dependencyTracking={},i.dependenciesCount=0;var s=this.evaluateImmediate_CallReadThenEndDependencyDetection(i,o);return(t=i.dependenciesCount?n.isDifferent(i.latestValue,s):(n.dispose(),!0))&&(i.isSleeping?n.updateVersion():n.notifySubscribers(i.latestValue,"beforeChange"),i.latestValue=s,n.notifySubscribers(i.latestValue,"spectate"),!i.isSleeping&&e&&n.notifySubscribers(i.latestValue),n._recordUpdate&&n._recordUpdate()),r&&n.notifySubscribers(i.latestValue,"awake"),t},evaluateImmediate_CallReadThenEndDependencyDetection:function(e,t){try{var n=e.readFunction;return e.evaluatorFunctionTarget?n.call(e.evaluatorFunctionTarget):n()}finally{H.dependencyDetection.end(),t.disposalCount&&!e.isSleeping&&H.utils.objectForEach(t.disposalCandidates,N),e.isStale=e.isDirty=!1}},peek:function(e){var t=this[D];return(t.isDirty&&(e||!t.dependenciesCount)||t.isSleeping&&this.haveDependenciesChanged())&&this.evaluateImmediate(),t.latestValue},limit:function(e){H.subscribable.fn.limit.call(this,e),this._evalIfChanged=function(){return this[D].isSleeping||(this[D].isStale?this.evaluateImmediate():this[D].isDirty=!1),this[D].latestValue},this._evalDelayed=function(e){this._limitBeforeChange(this[D].latestValue),this[D].isDirty=!0,e&&(this[D].isStale=!0),this._limitChange(this,!e)}},dispose:function(){var e=this[D];!e.isSleeping&&e.dependencyTracking&&H.utils.objectForEach(e.dependencyTracking,function(e,t){t.dispose&&t.dispose()}),e.disposeWhenNodeIsRemoved&&e.domNodeDisposalCallback&&H.utils.domNodeDisposal.removeDisposeCallback(e.disposeWhenNodeIsRemoved,e.domNodeDisposalCallback),e.dependencyTracking=b,e.dependenciesCount=0,e.isDisposed=!0,e.isStale=!1,e.isDirty=!1,e.isSleeping=!1,e.disposeWhenNodeIsRemoved=b,e.disposeWhen=b,e.readFunction=b,this.hasWriteFunction||(e.evaluatorFunctionTarget=b)}},O={beforeSubscriptionAdd:function(e){var r=this,o=r[D];if(!o.isDisposed&&o.isSleeping&&"change"==e){if(o.isSleeping=!1,o.isStale||r.haveDependenciesChanged())o.dependencyTracking=null,o.dependenciesCount=0,r.evaluateImmediate()&&r.updateVersion();else{var n=[];H.utils.objectForEach(o.dependencyTracking,function(e,t){n[t._order]=e}),H.utils.arrayForEach(n,function(e,t){var n=o.dependencyTracking[e],i=r.subscribeToDependency(n._target);i._order=t,i._version=n._version,o.dependencyTracking[e]=i}),r.haveDependenciesChanged()&&r.evaluateImmediate()&&r.updateVersion()}o.isDisposed||r.notifySubscribers(o.latestValue,"awake")}},afterSubscriptionRemove:function(e){var n=this[D];n.isDisposed||"change"!=e||this.hasSubscriptionsForEvent("change")||(H.utils.objectForEach(n.dependencyTracking,function(e,t){t.dispose&&(n.dependencyTracking[e]={_target:t._target,_order:t._order,_version:t._version},t.dispose())}),n.isSleeping=!0,this.notifySubscribers(b,"asleep"))},getVersion:function(){var e=this[D];return e.isSleeping&&(e.isStale||this.haveDependenciesChanged())&&this.evaluateImmediate(),H.subscribable.fn.getVersion.call(this)}},_={beforeSubscriptionAdd:function(e){"change"!=e&&"beforeChange"!=e||this.peek()}};H.utils.canSetPrototype&&H.utils.setPrototypeOf(k,H.subscribable.fn);var I,A,R,F=H.observable.protoProperty;k[F]=H.computed,H.isComputed=function(e){return"function"==typeof e&&e[F]===k[F]},H.isPureComputed=function(e){return H.isComputed(e)&&e[D]&&e[D].pure},H.exportSymbol("computed",H.computed),H.exportSymbol("dependentObservable",H.computed),H.exportSymbol("isComputed",H.isComputed),H.exportSymbol("isPureComputed",H.isPureComputed),H.exportSymbol("computed.fn",k),H.exportProperty(k,"peek",k.peek),H.exportProperty(k,"dispose",k.dispose),H.exportProperty(k,"isActive",k.isActive),H.exportProperty(k,"getDependenciesCount",k.getDependenciesCount),H.exportProperty(k,"getDependencies",k.getDependencies),H.pureComputed=function(e,t){return"function"==typeof e?H.computed(e,t,{pure:!0}):((e=H.utils.extend({},e)).pure=!0,H.computed(e,t))},H.exportSymbol("pureComputed",H.pureComputed),function(){function t(){this.keys=[],this.values=[]}H.toJS=function(e){if(0==arguments.length)throw new Error("When calling ko.toJS, pass the object you want to convert.");return function i(r,o,s){if(s=s||new t,"object"!=typeof(r=o(r))||null===r||r===b||r instanceof RegExp||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var a=r instanceof Array?[]:{};return s.save(r,a),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(var i in e)t(i)}(r,function(e){var t=o(r[e]);switch(typeof t){case"boolean":case"number":case"string":case"function":a[e]=t;break;case"object":case"undefined":var n=s.get(t);a[e]=n!==b?n:i(t,o,s)}}),a}(e,function(e){for(var t=0;H.isObservable(e)&&t<10;t++)e=e();return e})},H.toJSON=function(e,t,n){var i=H.toJS(e);return H.utils.stringifyJson(i,t,n)},t.prototype={constructor:t,save:function(e,t){var n=H.utils.arrayIndexOf(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){var t=H.utils.arrayIndexOf(this.keys,e);return 0<=t?this.values[t]:b}}}(),H.exportSymbol("toJS",H.toJS),H.exportSymbol("toJSON",H.toJSON),H.when=function(i,e,r){function t(t){var e=H.pureComputed(i,r).extend({notify:"always"}),n=e.subscribe(function(e){e&&(n.dispose(),t(e))});return e.notifySubscribers(e.peek()),n}return"function"!=typeof Promise||e?t(e.bind(r)):new Promise(t)},H.exportSymbol("when",H.when),I="__ko__hasDomDataOptionValue__",H.selectExtensions={readValue:function(e){switch(H.utils.tagNameLower(e)){case"option":return!0===e[I]?H.utils.domData.get(e,H.bindingHandlers.options.optionValueDomDataKey):H.utils.ieVersion<=7?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?H.selectExtensions.readValue(e.options[e.selectedIndex]):b;default:return e.value}},writeValue:function(e,t,n){switch(H.utils.tagNameLower(e)){case"option":e.value="string"==typeof t?(H.utils.domData.set(e,H.bindingHandlers.options.optionValueDomDataKey,b),I in e&&delete e[I],t):(H.utils.domData.set(e,H.bindingHandlers.options.optionValueDomDataKey,t),e[I]=!0,"number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=b);for(var i,r=-1,o=0,s=e.options.length;o<s;++o)if((i=H.selectExtensions.readValue(e.options[o]))==t||""===i&&t===b){r=o;break}(n||0<=r||t===b&&1<e.size)&&(e.selectedIndex=r,6===H.utils.ieVersion&&H.utils.setTimeout(function(){e.selectedIndex=r},0));break;default:null!==t&&t!==b||(t=""),e.value=t}}},H.exportSymbol("selectExtensions",H.selectExtensions),H.exportSymbol("selectExtensions.readValue",H.selectExtensions.readValue),H.exportSymbol("selectExtensions.writeValue",H.selectExtensions.writeValue),H.expressionRewriting=function(){var d=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,e=",\"'`{}()/:[\\]",p=RegExp(['"(?:\\\\.|[^"])*"',"'(?:\\\\.|[^'])*'","`(?:\\\\.|[^`])*`","/\\*(?:[^*]|\\*+[^*/])*\\*+/","//.*\n","/(?:\\\\.|[^/])+/w*","[^\\s:,/][^"+e+"]*[^\\s"+e+"]","[^\\s]"].join("|"),"g"),f=/[\])"'A-Za-z0-9_$]+$/,m={in:1,return:1,typeof:1};function i(e){var t=H.utils.stringTrim(e);123===t.charCodeAt(0)&&(t=t.slice(1,-1));var n,i=[],r=(t+="\n,").match(p),o=[],s=0;if(1<r.length){for(var a,l=0;a=r[l];++l){var u=a.charCodeAt(0);if(44===u){if(s<=0){i.push(n&&o.length?{key:n,value:o.join("")}:{unknown:n||o.join("")}),n=s=0,o=[];continue}}else if(58===u){if(!s&&!n&&1===o.length){n=o.pop();continue}}else{if(47===u&&1<a.length&&(47===a.charCodeAt(1)||42===a.charCodeAt(1)))continue;if(47===u&&l&&1<a.length){var d=r[l-1].match(f);d&&!m[d[0]]&&(r=(t=t.substr(t.indexOf(a)+1)).match(p),l=-1,a="/")}else 40===u||123===u||91===u?++s:41===u||125===u||93===u?--s:n||o.length||34!==u&&39!==u||(a=a.slice(1,-1))}o.push(a)}if(0<s)throw Error("Unbalanced parentheses, braces, or brackets")}return i}var b={};return{bindingRewriteValidators:[],twoWayBindings:b,parseObjectLiteral:i,preProcessBindings:function(e,t){function o(e,t){var n,i;if(!u){if((i=H.getBindingHandler(e))&&i.preprocess&&!(t=i.preprocess(t,e,o)))return;if(b[e]&&(n=function(e){if(0<=H.utils.arrayIndexOf(d,e))return!1;var t=e.match(c);return null!==t&&(t[1]?"Object("+t[1]+")"+t[2]:e)}(t))){var r="string"==typeof b[e]?b[e]:e;a.push("'"+r+"':function(_z){"+n+"=_z}")}}l&&(t="function(){return "+t+" }"),s.push("'"+e+"':"+t)}var s=[],a=[],l=(t=t||{}).valueAccessors,u=t.bindingParams,n="string"==typeof e?i(e):e;return H.utils.arrayForEach(n,function(e){o(e.key||e.unknown,e.value)}),a.length&&o("_ko_property_writers","{"+a.join(",")+" }"),s.join(",")},keyValueArrayContainsKey:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},writeValueToProperty:function(e,t,n,i,r){if(e&&H.isObservable(e))!H.isWriteableObservable(e)||r&&e.peek()===i||e(i);else{var o=t.get("_ko_property_writers");o&&o[n]&&o[n](i)}}}}(),H.exportSymbol("expressionRewriting",H.expressionRewriting),H.exportSymbol("expressionRewriting.bindingRewriteValidators",H.expressionRewriting.bindingRewriteValidators),H.exportSymbol("expressionRewriting.parseObjectLiteral",H.expressionRewriting.parseObjectLiteral),H.exportSymbol("expressionRewriting.preProcessBindings",H.expressionRewriting.preProcessBindings),H.exportSymbol("expressionRewriting._twoWayBindings",H.expressionRewriting.twoWayBindings),H.exportSymbol("jsonExpressionRewriting",H.expressionRewriting),H.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",H.expressionRewriting.preProcessBindings),function(){var n=d&&"\x3c!--test--\x3e"===d.createComment("test").text,i=n?/^<!--\s*ko(?:\s+([\s\S]+))?\s*-->$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,t=n?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,o={ul:!0,ol:!0};function s(e){return 8==e.nodeType&&i.test(n?e.text:e.nodeValue)}function a(e){return 8==e.nodeType&&t.test(n?e.text:e.nodeValue)}var l="__ko_matchedEndComment__";function r(e,t){for(var n=e,i=1,r=[];n=n.nextSibling;){if(a(n)&&(H.utils.domData.set(n,l,!0),0==--i))return r;r.push(n),s(n)&&i++}if(!t)throw new Error("Cannot find closing comment tag to match: "+e.nodeValue);return null}function u(e,t){var n=r(e,t);return n?0<n.length?n[n.length-1].nextSibling:e.nextSibling:null}function c(e){var t=e.firstChild,n=null;if(t)do{if(n)n.push(t);else if(s(t)){var i=u(t,!0);i?t=i:n=[t]}else a(t)&&(n=[t])}while(t=t.nextSibling);return n}H.virtualElements={allowedBindings:{},childNodes:function(e){return s(e)?r(e):e.childNodes},emptyNode:function(e){if(s(e))for(var t=H.virtualElements.childNodes(e),n=0,i=t.length;n<i;n++)H.removeNode(t[n]);else H.utils.emptyDomNode(e)},setDomNodeChildren:function(e,t){if(s(e)){H.virtualElements.emptyNode(e);for(var n=e.nextSibling,i=0,r=t.length;i<r;i++)n.parentNode.insertBefore(t[i],n)}else H.utils.setDomNodeChildren(e,t)},prepend:function(e,t){s(e)?e.parentNode.insertBefore(t,e.nextSibling):e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},insertAfter:function(e,t,n){n?s(e)?e.parentNode.insertBefore(t,n.nextSibling):n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):H.virtualElements.prepend(e,t)},firstChild:function(e){if(s(e))return!e.nextSibling||a(e.nextSibling)?null:e.nextSibling;if(e.firstChild&&a(e.firstChild))throw new Error("Found invalid end comment, as the first child of "+e);return e.firstChild},nextSibling:function(e){if(s(e)&&(e=u(e)),e.nextSibling&&a(e.nextSibling)){if(a(t=e.nextSibling)&&!H.utils.domData.get(t,l))throw Error("Found end comment without a matching opening comment, as child of "+e);return null}return e.nextSibling;var t},hasBindingValue:s,virtualNodeBindingValue:function(e){var t=(n?e.text:e.nodeValue).match(i);return t?t[1]:null},normaliseVirtualElementDomStructure:function(e){if(o[H.utils.tagNameLower(e)]){var t=e.firstChild;if(t)do{if(1===t.nodeType){var n=c(t);if(n)for(var i=t.nextSibling,r=0;r<n.length;r++)i?e.insertBefore(n[r],i):e.appendChild(n[r])}}while(t=t.nextSibling)}}}}(),H.exportSymbol("virtualElements",H.virtualElements),H.exportSymbol("virtualElements.allowedBindings",H.virtualElements.allowedBindings),H.exportSymbol("virtualElements.emptyNode",H.virtualElements.emptyNode),H.exportSymbol("virtualElements.insertAfter",H.virtualElements.insertAfter),H.exportSymbol("virtualElements.prepend",H.virtualElements.prepend),H.exportSymbol("virtualElements.setDomNodeChildren",H.virtualElements.setDomNodeChildren),A="data-bind",H.bindingProvider=function(){this.bindingCache={}},H.utils.extend(H.bindingProvider.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute(A)||H.components.getComponentNameForNode(e);case 8:return H.virtualElements.hasBindingValue(e);default:return!1}},getBindings:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e):null;return H.components.addBindingsForCustomElement(i,e,t,!1)},getBindingAccessors:function(e,t){var n=this.getBindingsString(e,t),i=n?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return H.components.addBindingsForCustomElement(i,e,t,!0)},getBindingsString:function(e,t){switch(e.nodeType){case 1:return e.getAttribute(A);case 8:return H.virtualElements.virtualNodeBindingValue(e);default:return null}},parseBindingsString:function(t,e,n,i){try{return r=t,((o=this.bindingCache)[a=r+((s=i)&&s.valueAccessors||"")]||(o[a]=(l=r,u=s,d=H.expressionRewriting.preProcessBindings(l,u),new Function("$context","$element","with($context){with($data||{}){return{"+d+"}}}"))))(e,n)}catch(e){throw e.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+e.message,e}var r,o,s,a,l,u,d}}),H.bindingProvider.instance=new H.bindingProvider,H.exportSymbol("bindingProvider",H.bindingProvider),function(){var x=H.utils.createSymbolOrString("_subscribable"),p=H.utils.createSymbolOrString("_ancestorBindingInfo");H.bindingHandlers={};var r={script:!0,textarea:!0,template:!0};H.getBindingHandler=function(e){return H.bindingHandlers[e]};var m={};H.bindingContext=function(e,n,i,r,t){function o(){var e=d?u():u,t=H.utils.unwrapObservable(e);return n?(n[x]&&n[x](),H.utils.extend(a,n),p in n&&(a[p]=n[p])):(a.$parents=[],a.$root=t,a.ko=H),a[x]=s,l?t=a.$data:(a.$rawData=e,a.$data=t),i&&(a[i]=t),r&&r(a,n,t),a.$data}var s,a=this,l=e===m,u=l?b:e,d="function"==typeof u&&!H.isObservable(u);t&&t.exportDependencies?o():((s=H.pureComputed(o)).peek(),s.isActive()?s.equalityComparer=null:a[x]=b)},H.bindingContext.prototype.createChildContext=function(t,n,i,e){if(!e&&n&&"object"==typeof n&&(n=(e=n).as,i=e.extend),n&&e&&e.noChildContext){var r="function"==typeof t&&!H.isObservable(t);return new H.bindingContext(m,this,null,function(e){i&&i(e),e[n]=r?t():t},e)}return new H.bindingContext(t,this,n,function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),i&&i(e)},e)},H.bindingContext.prototype.extend=function(n){return new H.bindingContext(m,this,null,function(e,t){H.utils.extend(e,"function"==typeof n?n(e):n)})};var E=H.utils.domData.nextKey();function i(e){var t=H.utils.domData.get(e,E),n=t&&t.asyncContext;n&&(t.asyncContext=null,n.notifyAncestor())}function o(e,t,n){this.node=e,this.bindingInfo=t,this.asyncDescendants=[],this.childrenComplete=!1,t.asyncContext||H.utils.domNodeDisposal.addDisposeCallback(e,i),n&&n.asyncContext&&(n.asyncContext.asyncDescendants.push(e),this.ancestorBindingInfo=n)}function a(e){return function(){return e}}function w(e){return e()}function l(n){return H.utils.objectMap(H.dependencyDetection.ignore(n),function(e,t){return function(){return n()[t]}})}function C(e,t){return l(this.getBindings.bind(this,e,t))}function s(e,t){var n=H.virtualElements.firstChild(t);if(n){var i,r=H.bindingProvider.instance,o=r.preprocessNode;if(o){for(;i=n;)n=H.virtualElements.nextSibling(i),o.call(r,i);n=H.virtualElements.firstChild(t)}for(;i=n;)n=H.virtualElements.nextSibling(i),u(e,i)}H.bindingEvent.notify(t,H.bindingEvent.childrenComplete)}function u(e,t){var n=e,i=1===t.nodeType;i&&H.virtualElements.normaliseVirtualElementDomStructure(t),(i||H.bindingProvider.instance.nodeHasBindings(t))&&(n=d(t,null,e).bindingContextForDescendants),n&&!r[H.utils.tagNameLower(t)]&&s(n,t)}function d(r,e,t){var o,n=H.utils.domData.getOrSet(r,E,{}),i=n.alreadyBound;if(!e){if(i)throw Error("You cannot apply bindings multiple times to the same element.");n.alreadyBound=!0}if(i||(n.context=t),e&&"function"!=typeof e)o=e;else{var s=H.bindingProvider.instance,a=s.getBindingAccessors||C,l=H.dependentObservable(function(){return(o=e?e(t,r):a.call(s,r,t))&&t[x]&&t[x](),o},null,{disposeWhenNodeIsRemoved:r});o&&l.isActive()||(l=null)}var u,d,c,p,f,m=t;if(o){var v=l?function(e){return function(){return w(l()[e])}}:function(e){return o[e]};function g(){return H.utils.objectMap(l?l():o,w)}g.get=function(e){return o[e]&&w(v(e))},g.has=function(e){return e in o},H.bindingEvent.childrenComplete in o&&H.bindingEvent.subscribe(r,H.bindingEvent.childrenComplete,function(){var e=w(o[H.bindingEvent.childrenComplete]);if(e){var t=H.virtualElements.childNodes(r);t.length&&e(t,H.dataFor(t[0]))}}),H.bindingEvent.descendantsComplete in o&&(m=H.bindingEvent.startPossiblyAsyncContentBinding(r,t),H.bindingEvent.subscribe(r,H.bindingEvent.descendantsComplete,function(){var e=w(o[H.bindingEvent.descendantsComplete]);e&&H.virtualElements.firstChild(r)&&e(r)}));var h=(d=o,c=[],p={},f=[],H.utils.objectForEach(d,function t(e){if(!p[e]){var n=H.getBindingHandler(e);n&&(n.after&&(f.push(e),H.utils.arrayForEach(n.after,function(e){if(d[e]){if(-1!==H.utils.arrayIndexOf(f,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+f.join(", "));t(e)}}),f.length--),c.push({key:e,handler:n})),p[e]=!0}}),c);H.utils.arrayForEach(h,function(e){var t=e.handler.init,n=e.handler.update,i=e.key;8===r.nodeType&&function(e){if(!H.virtualElements.allowedBindings[e])throw new Error("The binding '"+e+"' cannot be used with virtual elements")}(i);try{"function"==typeof t&&H.dependencyDetection.ignore(function(){var e=t(r,v(i),g,m.$data,m);if(e&&e.controlsDescendantBindings){if(u!==b)throw new Error("Multiple bindings ("+u+" and "+i+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");u=i}}),"function"==typeof n&&H.dependentObservable(function(){n(r,v(i),g,m.$data,m)},null,{disposeWhenNodeIsRemoved:r})}catch(e){throw e.message='Unable to process binding "'+i+": "+o[i]+'"\nMessage: '+e.message,e}})}var y=u===b;return{shouldBindDescendants:y,bindingContextForDescendants:y&&m}}function v(e,t){return e&&e instanceof H.bindingContext?e:new H.bindingContext(e,b,b,t)}o.prototype.notifyAncestor=function(){this.ancestorBindingInfo&&this.ancestorBindingInfo.asyncContext&&this.ancestorBindingInfo.asyncContext.descendantComplete(this.node)},o.prototype.descendantComplete=function(e){H.utils.arrayRemoveItem(this.asyncDescendants,e),!this.asyncDescendants.length&&this.childrenComplete&&this.completeChildren()},o.prototype.completeChildren=function(){this.childrenComplete=!0,this.bindingInfo.asyncContext&&!this.asyncDescendants.length&&(this.bindingInfo.asyncContext=null,H.utils.domNodeDisposal.removeDisposeCallback(this.node,i),H.bindingEvent.notify(this.node,H.bindingEvent.descendantsComplete),this.notifyAncestor())},H.bindingEvent={childrenComplete:"childrenComplete",descendantsComplete:"descendantsComplete",subscribe:function(e,t,n,i){var r=H.utils.domData.getOrSet(e,E,{});return r.eventSubscribable||(r.eventSubscribable=new H.subscribable),r.eventSubscribable.subscribe(n,i,t)},notify:function(e,t){var n=H.utils.domData.get(e,E);if(n&&(n.eventSubscribable&&n.eventSubscribable.notifySubscribers(e,t),t==H.bindingEvent.childrenComplete))if(n.asyncContext)n.asyncContext.completeChildren();else if(n.asyncContext===b&&n.eventSubscribable&&n.eventSubscribable.hasSubscriptionsForEvent(H.bindingEvent.descendantsComplete))throw new Error("descendantsComplete event not supported for bindings on this node")},startPossiblyAsyncContentBinding:function(e,t){var n=H.utils.domData.getOrSet(e,E,{});return n.asyncContext||(n.asyncContext=new o(e,n,t[p])),t[p]==n?t:t.extend(function(e){e[p]=n})}},H.storedBindingContextForNode=function(e){var t=H.utils.domData.get(e,E);return t&&t.context},H.applyBindingAccessorsToNode=function(e,t,n){return 1===e.nodeType&&H.virtualElements.normaliseVirtualElementDomStructure(e),d(e,t,v(n))},H.applyBindingsToNode=function(e,t,n){var i,r,o,s=v(n);return H.applyBindingAccessorsToNode(e,(r=s,o=e,"function"==typeof(i=t)?l(i.bind(null,r,o)):H.utils.objectMap(i,a)),s)},H.applyBindingsToDescendants=function(e,t){1!==t.nodeType&&8!==t.nodeType||s(v(e),t)},H.applyBindings=function(e,t,n){if(!f&&c.jQuery&&(f=c.jQuery),arguments.length<2){if(!(t=c.document.body))throw Error("ko.applyBindings: could not find window.document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");u(v(e,n),t)},H.contextFor=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?b:H.storedBindingContextForNode(e)},H.dataFor=function(e){var t=H.contextFor(e);return t?t.$data:b},H.exportSymbol("bindingHandlers",H.bindingHandlers),H.exportSymbol("bindingEvent",H.bindingEvent),H.exportSymbol("bindingEvent.subscribe",H.bindingEvent.subscribe),H.exportSymbol("applyBindings",H.applyBindings),H.exportSymbol("applyBindingsToDescendants",H.applyBindingsToDescendants),H.exportSymbol("applyBindingAccessorsToNode",H.applyBindingAccessorsToNode),H.exportSymbol("applyBindingsToNode",H.applyBindingsToNode),H.exportSymbol("contextFor",H.contextFor),H.exportSymbol("dataFor",H.dataFor)}(),function(a){var u={},d={};function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:a}function p(t,n,i,r){r||(r=H.components.loaders.slice(0));var e=r.shift();if(e){var o=e[t];if(o){var s=!1;if(o.apply(e,n.concat(function(e){s?i(null):null!==e?i(e):p(t,n,i,r)}))!==a&&(s=!0,!e.suppressLoaderExceptions))throw new Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else p(t,n,i,r)}else i(null)}H.components={get:function(e,t){var i,n,r,o,s,a,l=c(d,e);l?l.isSynchronousComponent?H.dependencyDetection.ignore(function(){t(l.definition)}):H.tasks.schedule(function(){t(l.definition)}):(n=t,(o=c(u,i=e))?o.subscribe(n):((o=u[i]=new H.subscribable).subscribe(n),a=function(e,t){var n=!(!t||!t.synchronous);d[i]={definition:e,isSynchronousComponent:n},delete u[i],r||n?o.notifySubscribers(e):H.tasks.schedule(function(){o.notifySubscribers(e)})},p("getConfig",[s=i],function(t){t?p("loadComponent",[s,t],function(e){a(e,t)}):a(null,null)}),r=!0))},clearCachedDefinition:function(e){delete d[e]},_getFirstResultFromLoaders:p},H.components.loaders=[],H.exportSymbol("components",H.components),H.exportSymbol("components.get",H.components.get),H.exportSymbol("components.clearCachedDefinition",H.components.clearCachedDefinition)}(),function(e){var n={};H.components.register=function(e,t){if(!t)throw new Error("Invalid configuration for "+e);if(H.components.isRegistered(e))throw new Error("Component "+e+" is already registered");n[e]=t},H.components.isRegistered=function(e){return Object.prototype.hasOwnProperty.call(n,e)},H.components.unregister=function(e){delete n[e],H.components.clearCachedDefinition(e)},H.components.defaultLoader={getConfig:function(e,t){t(H.components.isRegistered(e)?n[e]:null)},loadComponent:function(d,e,c){var p=i(d);m(p,e,function(e){var t,n,i,r,o,s,a,l,u;t=d,n=p,r=c,o={},s=2,a=function(){0==--s&&r(o)},l=(i=e).template,u=i.viewModel,l?m(n,l,function(e){H.components._getFirstResultFromLoaders("loadTemplate",[t,e],function(e){o.template=e,a()})}):a(),u?m(n,u,function(e){H.components._getFirstResultFromLoaders("loadViewModel",[t,e],function(e){o[f]=e,a()})}):a()})},loadTemplate:function(e,t,n){(function(e,t,n){if("string"==typeof t)n(H.utils.parseHtmlFragment(t));else if(t instanceof Array)n(t);else if(a(t))n(H.utils.makeArray(t.childNodes));else if(t.element){var i=t.element;if(o=i,c.HTMLElement?o instanceof HTMLElement:o&&o.tagName&&1===o.nodeType)n(s(i));else if("string"==typeof i){var r=d.getElementById(i);r?n(s(r)):e("Cannot find element with ID "+i)}else e("Unknown element type: "+i)}else e("Unknown template value: "+t);var o})(i(e),t,n)},loadViewModel:function(e,t,n){(function e(t,n,i){if("function"==typeof n)i(function(e){return new n(e)});else if("function"==typeof n[f])i(n[f]);else if("instance"in n){var r=n.instance;i(function(e,t){return r})}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)})(i(e),t,n)}};var f="createViewModel";function s(e){switch(H.utils.tagNameLower(e)){case"script":return H.utils.parseHtmlFragment(e.text);case"textarea":return H.utils.parseHtmlFragment(e.value);case"template":if(a(e.content))return H.utils.cloneNodes(e.content.childNodes)}return H.utils.cloneNodes(e.childNodes)}function a(e){return c.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function m(e,t,n){"string"==typeof t.require?r||c.require?(r||c.require)([t.require],n):e("Uses require, but no AMD loader is present"):n(t)}function i(t){return function(e){throw new Error("Component '"+t+"': "+e)}}H.exportSymbol("components.register",H.components.register),H.exportSymbol("components.isRegistered",H.components.isRegistered),H.exportSymbol("components.unregister",H.components.unregister),H.exportSymbol("components.defaultLoader",H.components.defaultLoader),H.components.loaders.push(H.components.defaultLoader),H.components._allRegisteredComponents=n}(),function(e){H.components.getComponentNameForNode=function(e){var t=H.utils.tagNameLower(e);if(H.components.isRegistered(t)&&(-1!=t.indexOf("-")||""+e=="[object HTMLUnknownElement]"||H.utils.ieVersion<=8&&e.tagName===t))return t},H.components.addBindingsForCustomElement=function(e,t,n,i){if(1===t.nodeType){var r=H.components.getComponentNameForNode(t);if(r){if((e=e||{}).component)throw new Error('Cannot use the "component" binding on a custom element matching a component');var o={name:r,params:function(i,e){var t=i.getAttribute("params");if(t){var n=s.parseBindingsString(t,e,i,{valueAccessors:!0,bindingParams:!0}),r=H.utils.objectMap(n,function(e,t){return H.computed(e,null,{disposeWhenNodeIsRemoved:i})}),o=H.utils.objectMap(r,function(t,e){var n=t.peek();return t.isActive()?H.computed({read:function(){return H.utils.unwrapObservable(t())},write:H.isWriteableObservable(n)&&function(e){t()(e)},disposeWhenNodeIsRemoved:i}):n});return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=r),o}return{$raw:{}}}(t,n)};e.component=i?function(){return o}:o}}return e};var i,t,s=new H.bindingProvider;H.utils.ieVersion<9&&(H.components.register=(t=H.components.register,function(e){return d.createElement(e),t.apply(this,arguments)}),d.createDocumentFragment=(i=d.createDocumentFragment,function(){var e=i(),t=H.components._allRegisteredComponents;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.createElement(n);return e}))}(),R=0,H.bindingHandlers.component={init:function(c,t,e,n,i){var p,f,m,b=function(){var e=p&&p.dispose;"function"==typeof e&&e.call(p),m&&m.dispose(),f=p=m=null},v=H.utils.makeArray(H.virtualElements.childNodes(c));return H.virtualElements.emptyNode(c),H.utils.domNodeDisposal.addDisposeCallback(c,b),H.computed(function(){var a,l,e=H.utils.unwrapObservable(t());if("string"==typeof e?a=e:(a=H.utils.unwrapObservable(e.name),l=H.utils.unwrapObservable(e.params)),!a)throw new Error("No component name specified");var u=H.bindingEvent.startPossiblyAsyncContentBinding(c,i),d=f=++R;H.components.get(a,function(o){if(f===d){if(b(),!o)throw new Error("Unknown component '"+a+"'");(function(e,t,n){var i=o.template;if(!i)throw new Error("Component '"+e+"' has no template");var r=H.utils.cloneNodes(i);H.virtualElements.setDomNodeChildren(n,r)})(a,0,c);var e,t,n,i,r=(t=l,n={element:c,templateNodes:v},(i=(e=o).createViewModel)?i.call(e,t,n):t),s=u.createChildContext(r,{extend:function(e){e.$component=r,e.$componentTemplateNodes=v}});r&&r.koDescendantsComplete&&(m=H.bindingEvent.subscribe(c,H.bindingEvent.descendantsComplete,r.koDescendantsComplete,r)),p=r,H.applyBindingsToDescendants(s,c)}})},null,{disposeWhenNodeIsRemoved:c}),{controlsDescendantBindings:!0}}},H.virtualElements.allowedBindings.component=!0;var B={class:"className",for:"htmlFor"};H.bindingHandlers.attr={update:function(o,e,t){var n=H.utils.unwrapObservable(e())||{};H.utils.objectForEach(n,function(e,t){t=H.utils.unwrapObservable(t);var n=e.indexOf(":"),i="lookupNamespaceURI"in o&&0<n&&o.lookupNamespaceURI(e.substr(0,n)),r=!1===t||null===t||t===b;r?i?o.removeAttributeNS(i,e):o.removeAttribute(e):t=t.toString(),H.utils.ieVersion<=8&&e in B?(e=B[e],r?o.removeAttribute(e):o[e]=t):r||(i?o.setAttributeNS(i,e,t):o.setAttribute(e,t)),"name"===e&&H.utils.setElementName(o,r?"":t)})}},H.bindingHandlers.checked={after:["value","attr"],init:function(o,s,a){var l=H.pureComputed(function(){return a.has("checkedValue")?H.utils.unwrapObservable(a.get("checkedValue")):n?a.has("value")?H.utils.unwrapObservable(a.get("value")):o.value:void 0});function e(){var e=o.checked,t=l();if(!H.computedContext.isInitial()&&(e||!d&&!H.computedContext.getDependenciesCount())){var n=H.dependencyDetection.ignore(s);if(c){var i=p?n.peek():n,r=f;r!==(f=t)?e&&(H.utils.addOrRemoveItem(i,t,!0),H.utils.addOrRemoveItem(i,r,!1)):H.utils.addOrRemoveItem(i,t,e),p&&H.isWriteableObservable(n)&&n(i)}else u&&(t===b?t=e:e||(t=b)),H.expressionRewriting.writeValueToProperty(n,a,"checked",t,!0)}}var u="checkbox"==o.type,d="radio"==o.type;if(u||d){var t=s(),c=u&&H.utils.unwrapObservable(t)instanceof Array,p=!(c&&t.push&&t.splice),n=d||c,f=c?l():b;d&&!o.name&&H.bindingHandlers.uniqueName.init(o,function(){return!0}),H.computed(e,null,{disposeWhenNodeIsRemoved:o}),H.utils.registerEventHandler(o,"click",e),H.computed(function(){var e=H.utils.unwrapObservable(s()),t=l();c?(o.checked=0<=H.utils.arrayIndexOf(e,t),f=t):o.checked=u&&t===b?!!e:l()===e},null,{disposeWhenNodeIsRemoved:o}),t=b}}},H.expressionRewriting.twoWayBindings.checked=!0,H.bindingHandlers.checkedValue={update:function(e,t){e.value=H.utils.unwrapObservable(t())}};var V="__ko__cssValue";H.bindingHandlers.class={update:function(e,t){var n=H.utils.stringTrim(H.utils.unwrapObservable(t()));H.utils.toggleDomNodeCssClass(e,e[V],!1),e[V]=n,H.utils.toggleDomNodeCssClass(e,n,!0)}},H.bindingHandlers.css={update:function(n,e){var t=H.utils.unwrapObservable(e());null!==t&&"object"==typeof t?H.utils.objectForEach(t,function(e,t){t=H.utils.unwrapObservable(t),H.utils.toggleDomNodeCssClass(n,e,t)}):H.bindingHandlers.class.update(n,e)}},H.bindingHandlers.enable={update:function(e,t){var n=H.utils.unwrapObservable(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},H.bindingHandlers.disable={update:function(e,t){H.bindingHandlers.enable.update(e,function(){return!H.utils.unwrapObservable(t())})}},H.bindingHandlers.event={init:function(e,o,s,a,l){var t=o()||{};H.utils.objectForEach(t,function(r){"string"==typeof r&&H.utils.registerEventHandler(e,r,function(e){var t,n=o()[r];if(n){try{var i=H.utils.makeArray(arguments);a=l.$data,i.unshift(a),t=n.apply(a,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1!==s.get(r+"Bubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}})})}},function(){"use strict";H.bindingHandlers.foreach={makeTemplateValueAccessor:function(n){return function(){var e=n(),t=H.utils.peekObservable(e);return t&&"number"!=typeof t.length?(H.utils.unwrapObservable(e),{foreach:t.data,as:t.as,noChildContext:t.noChildContext,includeDestroyed:t.includeDestroyed,afterAdd:t.afterAdd,beforeRemove:t.beforeRemove,afterRender:t.afterRender,beforeMove:t.beforeMove,afterMove:t.afterMove,templateEngine:H.nativeTemplateEngine.instance}):{foreach:e,templateEngine:H.nativeTemplateEngine.instance}}},init:function(e,t){return H.bindingHandlers.template.init(e,H.bindingHandlers.foreach.makeTemplateValueAccessor(t))},update:function(e,t,n,i,r){return H.bindingHandlers.template.update(e,H.bindingHandlers.foreach.makeTemplateValueAccessor(t),n,i,r)}},H.expressionRewriting.bindingRewriteValidators.foreach=!1,H.virtualElements.allowedBindings.foreach=!0}();var P="__ko_hasfocusUpdating",M="__ko_hasfocusLastValue";H.bindingHandlers.hasfocus={init:function(r,o,s){var e=function(e){r[P]=!0;var t=r.ownerDocument;if("activeElement"in t){var n;try{n=t.activeElement}catch(e){n=t.body}e=n===r}var i=o();H.expressionRewriting.writeValueToProperty(i,s,"hasfocus",e,!0),r[M]=e,r[P]=!1},t=e.bind(null,!0),n=e.bind(null,!1);H.utils.registerEventHandler(r,"focus",t),H.utils.registerEventHandler(r,"focusin",t),H.utils.registerEventHandler(r,"blur",n),H.utils.registerEventHandler(r,"focusout",n),r[M]=!1},update:function(e,t){var n=!!H.utils.unwrapObservable(t());e[P]||e[M]===n||(n?e.focus():e.blur(),!n&&e[M]&&e.ownerDocument.body.focus(),H.dependencyDetection.ignore(H.utils.triggerEvent,null,[e,n?"focusin":"focusout"]))}},H.expressionRewriting.twoWayBindings.hasfocus=!0,H.bindingHandlers.hasFocus=H.bindingHandlers.hasfocus,H.expressionRewriting.twoWayBindings.hasFocus="hasfocus",H.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){H.utils.setHtml(e,t())}},function(){"use strict";function e(e,u){H.bindingHandlers[e]={init:function(i,t,e,n,r){var o,s=H.computed(function(){var e=H.utils.unwrapObservable(t());return u?!e:!!e},null,{disposeWhenNodeIsRemoved:i}),a="render"==e.get("completeOn"),l=a||e.has(H.bindingEvent.descendantsComplete);return H.computed(function(){var e,t=s(),n=!o;n&&H.computedContext.getDependenciesCount()&&(o=H.utils.cloneNodes(H.virtualElements.childNodes(i),!0)),l&&(r=H.bindingEvent.startPossiblyAsyncContentBinding(i,r)),t?(n||H.virtualElements.setDomNodeChildren(i,H.utils.cloneNodes(o)),s.isActive(),e=r,H.applyBindingsToDescendants(e,i)):(H.virtualElements.emptyNode(i),a||H.bindingEvent.notify(i,H.bindingEvent.childrenComplete))},null,{disposeWhenNodeIsRemoved:i}),{controlsDescendantBindings:!0}}},H.expressionRewriting.bindingRewriteValidators[e]=!1,H.virtualElements.allowedBindings[e]=!0}e("if"),e("ifnot",!0)}(),function(){"use strict";var e;e="with",H.bindingHandlers[e]={init:function(r,o,e,t,s){var a,l,u,d={as:e.get("as"),noChildContext:e.get("noChildContext")};return l="render"==e.get("completeOn"),u=l||e.has(H.bindingEvent.descendantsComplete),H.computed(function(){var e=H.utils.unwrapObservable(o()),t=!(null==e),n=!a;if(n&&H.computedContext.getDependenciesCount()&&(a=H.utils.cloneNodes(H.virtualElements.childNodes(r),!0)),u&&(s=H.bindingEvent.startPossiblyAsyncContentBinding(r,s)),t){n||H.virtualElements.setDomNodeChildren(r,H.utils.cloneNodes(a));var i=s.createChildContext("function"==typeof e?e:o,d);H.applyBindingsToDescendants(i,r)}else H.virtualElements.emptyNode(r),l||H.bindingEvent.notify(r,H.bindingEvent.childrenComplete)},null,{disposeWhenNodeIsRemoved:r}),{controlsDescendantBindings:!0}}},H.expressionRewriting.bindingRewriteValidators[e]=!1,H.virtualElements.allowedBindings[e]=!0}(),H.bindingHandlers.let={init:function(e,t,n,i,r){var o=r.extend(t);return H.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}}},H.virtualElements.allowedBindings.let=!0;var W={};H.bindingHandlers.options={init:function(e){if("select"!==H.utils.tagNameLower(e))throw new Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(s,e,a){function t(){return H.utils.arrayFilter(s.options,function(e){return e.selected})}var n,i,r=0==s.length,o=s.multiple,l=!r&&o?s.scrollTop:null,u=H.utils.unwrapObservable(e()),d=a.get("valueAllowUnset")&&a.has("value"),c=a.get("optionsIncludeDestroyed"),p={},f=[];function m(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}d||(o?f=H.utils.arrayMap(t(),H.selectExtensions.readValue):0<=s.selectedIndex&&f.push(H.selectExtensions.readValue(s.options[s.selectedIndex]))),u&&(void 0===u.length&&(u=[u]),i=H.utils.arrayFilter(u,function(e){return c||e===b||null===e||!H.utils.unwrapObservable(e._destroy)}),a.has("optionsCaption")&&null!==(n=H.utils.unwrapObservable(a.get("optionsCaption")))&&n!==b&&i.unshift(W));var v=!1;function g(e,t){if(v&&d)H.selectExtensions.writeValue(s,H.utils.unwrapObservable(a.get("value")),!0);else if(f.length){var n=0<=H.utils.arrayIndexOf(f,H.selectExtensions.readValue(t[0]));H.utils.setOptionNodeSelectionState(t[0],n),v&&!n&&H.dependencyDetection.ignore(H.utils.triggerEvent,null,[s,"change"])}}p.beforeRemove=function(e){s.removeChild(e)};var h=g;a.has("optionsAfterRender")&&"function"==typeof a.get("optionsAfterRender")&&(h=function(e,t){g(0,t),H.dependencyDetection.ignore(a.get("optionsAfterRender"),null,[t[0],e!==W?e:b])}),H.utils.setDomNodeChildrenFromArrayMapping(s,i,function(e,t,n){n.length&&(f=!d&&n[0].selected?[H.selectExtensions.readValue(n[0])]:[],v=!0);var i=s.ownerDocument.createElement("option");if(e===W)H.utils.setTextContent(i,a.get("optionsCaption")),H.selectExtensions.writeValue(i,b);else{var r=m(e,a.get("optionsValue"),e);H.selectExtensions.writeValue(i,H.utils.unwrapObservable(r));var o=m(e,a.get("optionsText"),r);H.utils.setTextContent(i,o)}return[i]},p,h),H.dependencyDetection.ignore(function(){d?H.selectExtensions.writeValue(s,H.utils.unwrapObservable(a.get("value")),!0):(o?f.length&&t().length<f.length:f.length&&0<=s.selectedIndex?H.selectExtensions.readValue(s.options[s.selectedIndex])!==f[0]:f.length||0<=s.selectedIndex)&&H.utils.triggerEvent(s,"change")}),H.utils.ensureSelectElementIsRenderedCorrectly(s),l&&20<Math.abs(l-s.scrollTop)&&(s.scrollTop=l)}},H.bindingHandlers.options.optionValueDomDataKey=H.utils.domData.nextKey(),H.bindingHandlers.selectedOptions={after:["options","foreach"],init:function(n,i,r){H.utils.registerEventHandler(n,"change",function(){var e=i(),t=[];H.utils.arrayForEach(n.getElementsByTagName("option"),function(e){e.selected&&t.push(H.selectExtensions.readValue(e))}),H.expressionRewriting.writeValueToProperty(e,r,"selectedOptions",t)})},update:function(e,t){if("select"!=H.utils.tagNameLower(e))throw new Error("values binding applies only to SELECT elements");var n=H.utils.unwrapObservable(t()),i=e.scrollTop;n&&"number"==typeof n.length&&H.utils.arrayForEach(e.getElementsByTagName("option"),function(e){var t=0<=H.utils.arrayIndexOf(n,H.selectExtensions.readValue(e));e.selected!=t&&H.utils.setOptionNodeSelectionState(e,t)}),e.scrollTop=i}},H.expressionRewriting.twoWayBindings.selectedOptions=!0,H.bindingHandlers.style={update:function(i,e){var t=H.utils.unwrapObservable(e()||{});H.utils.objectForEach(t,function(e,t){if(null!==(t=H.utils.unwrapObservable(t))&&t!==b&&!1!==t||(t=""),f)f(i).css(e,t);else if(/^--/.test(e))i.style.setProperty(e,t);else{e=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var n=i.style[e];(i.style[e]=t)===n||i.style[e]!=n||isNaN(t)||(i.style[e]=t+"px")}})}},H.bindingHandlers.submit={init:function(i,r,e,t,o){if("function"!=typeof r())throw new Error("The value for a submit binding must be a function");H.utils.registerEventHandler(i,"submit",function(e){var t,n=r();try{t=n.call(o.$data,i)}finally{!0!==t&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}})}},H.bindingHandlers.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){H.utils.setTextContent(e,t())}},H.virtualElements.allowedBindings.text=!0,function(){if(c&&c.navigator){var p,f,m,v,g,e=function(e){if(e)return parseFloat(e[1])},t=c.navigator.userAgent;(p=c.opera&&c.opera.version&&parseInt(c.opera.version()))||(g=e(t.match(/Edge\/([^ ]+)$/)))||e(t.match(/Chrome\/([^ ]+)/))||(f=e(t.match(/Version\/([^ ]+) Safari/)))||(m=e(t.match(/Firefox\/([^ ]+)/)))||(v=H.utils.ieVersion||e(t.match(/MSIE ([^ ]+)/)))||(v=e(t.match(/rv:([^ )]+)/)))}if(8<=v&&v<10)var i=H.utils.domData.nextKey(),r=H.utils.domData.nextKey(),o=function(e){var t=this.activeElement,n=t&&H.utils.domData.get(t,r);n&&n(e)},h=function(e,t){var n=e.ownerDocument;H.utils.domData.get(n,i)||(H.utils.domData.set(n,i,!0),H.utils.registerEventHandler(n,"selectionchange",o)),H.utils.domData.set(e,r,t)};H.bindingHandlers.textInput={init:function(n,i,r){var o,s,a=n.value,l=function(e){clearTimeout(o),s=o=b;var t=n.value;a!==t&&(a=t,H.expressionRewriting.writeValueToProperty(i(),r,"textInput",t))},e=function(e){if(!o){s=n.value;var t=l;o=H.utils.setTimeout(t,4)}},t=9==H.utils.ieVersion?e:l,u=!1,d=function(){var e=H.utils.unwrapObservable(i());null!==e&&e!==b||(e=""),s===b||e!==s?n.value!==e&&(u=!0,n.value=e,u=!1,a=n.value):H.utils.setTimeout(d,4)},c=function(e,t){H.utils.registerEventHandler(n,e,t)};v&&c("keypress",l),v<11&&c("propertychange",function(e){u||"value"!==e.propertyName||t(e)}),8==v&&(c("keyup",l),c("keydown",l)),h&&(h(n,t),c("dragend",e)),(!v||9<=v)&&c("input",t),f<5&&"textarea"===H.utils.tagNameLower(n)?(c("keydown",e),c("paste",e),c("cut",e)):p<11?c("keydown",e):m<4?(c("DOMAutoComplete",l),c("dragdrop",l),c("drop",l)):g&&"number"===n.type&&c("keydown",e),c("change",l),c("blur",l),H.computed(d,null,{disposeWhenNodeIsRemoved:n})}},H.expressionRewriting.twoWayBindings.textInput=!0,H.bindingHandlers.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),H.bindingHandlers.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++H.bindingHandlers.uniqueName.currentIndex;H.utils.setElementName(e,n)}}},H.bindingHandlers.uniqueName.currentIndex=0,H.bindingHandlers.using={init:function(e,t,n,i,r){var o=r.createChildContext(t);return H.applyBindingsToDescendants(o,e),{controlsDescendantBindings:!0}}},H.virtualElements.allowedBindings.using=!0,H.bindingHandlers.value={after:["options","foreach"],init:function(i,r,o){var s=H.utils.tagNameLower(i),e="input"==s;if(!e||"checkbox"!=i.type&&"radio"!=i.type){var t=["change"],n=o.get("valueUpdate"),a=!1,l=null;n&&("string"==typeof n&&(n=[n]),H.utils.arrayPushAll(t,n),t=H.utils.arrayGetDistinctValues(t));var u,d=function(){l=null,a=!1;var e=r(),t=H.selectExtensions.readValue(i);H.expressionRewriting.writeValueToProperty(e,o,"value",t)};H.utils.ieVersion&&e&&"text"==i.type&&"off"!=i.autocomplete&&(!i.form||"off"!=i.form.autocomplete)&&-1==H.utils.arrayIndexOf(t,"propertychange")&&(H.utils.registerEventHandler(i,"propertychange",function(){a=!0}),H.utils.registerEventHandler(i,"focus",function(){a=!1}),H.utils.registerEventHandler(i,"blur",function(){a&&d()})),H.utils.arrayForEach(t,function(e){var t=d;H.utils.stringStartsWith(e,"after")&&(t=function(){l=H.selectExtensions.readValue(i),H.utils.setTimeout(d,0)},e=e.substring("after".length)),H.utils.registerEventHandler(i,e,t)}),u=e&&"file"==i.type?function(){var e=H.utils.unwrapObservable(r());null===e||e===b||""===e?i.value="":H.dependencyDetection.ignore(d)}:function(){var e=H.utils.unwrapObservable(r()),t=H.selectExtensions.readValue(i);if(null===l||e!==l){if(e!==t||t===b)if("select"===s){var n=o.get("valueAllowUnset");H.selectExtensions.writeValue(i,e,n),n||e===H.selectExtensions.readValue(i)||H.dependencyDetection.ignore(d)}else H.selectExtensions.writeValue(i,e)}else H.utils.setTimeout(u,0)},H.computed(u,null,{disposeWhenNodeIsRemoved:i})}else H.applyBindingAccessorsToNode(i,{checkedValue:r})},update:function(){}},H.expressionRewriting.twoWayBindings.value=!0,H.bindingHandlers.visible={update:function(e,t){var n=H.utils.unwrapObservable(t()),i=!("none"==e.style.display);n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},H.bindingHandlers.hidden={update:function(e,t){H.bindingHandlers.visible.update(e,function(){return!H.utils.unwrapObservable(t())})}},H.bindingHandlers.click={init:function(e,t,n,i,r){return H.bindingHandlers.event.init.call(this,e,function(){var e={};return e.click=t(),e},n,i,r)}},H.templateEngine=function(){},H.templateEngine.prototype.renderTemplateSource=function(e,t,n,i){throw new Error("Override renderTemplateSource")},H.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(e){throw new Error("Override createJavaScriptEvaluatorBlock")},H.templateEngine.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||d).getElementById(e);if(!n)throw new Error("Cannot find template with ID "+e);return new H.templateSources.domElement(n)}if(1==e.nodeType||8==e.nodeType)return new H.templateSources.anonymousTemplate(e);throw new Error("Unknown template type: "+e)},H.templateEngine.prototype.renderTemplate=function(e,t,n,i){var r=this.makeTemplateSource(e,i);return this.renderTemplateSource(r,t,n,i)},H.templateEngine.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},H.templateEngine.prototype.rewriteTemplate=function(e,t,n){var i=this.makeTemplateSource(e,n),r=t(i.text());i.text(r),i.data("isRewritten",!0)},H.exportSymbol("templateEngine",H.templateEngine),H.templateRewriting=function(){var n=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,i=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;function r(e,t,n,i){var r=H.expressionRewriting.parseObjectLiteral(e);(function(e){for(var t=H.expressionRewriting.bindingRewriteValidators,n=0;n<e.length;n++){var i=e[n].key;if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if("function"==typeof r){var o=r(e[n].value);if(o)throw new Error(o)}else if(!r)throw new Error("This template engine does not support the '"+i+"' binding within its templates")}}})(r);var o="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+H.expressionRewriting.preProcessBindings(r,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')";return i.createJavaScriptEvaluatorBlock(o)+t}return{ensureTemplateIsRewritten:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,function(e){return H.templateRewriting.memoizeBindingAttributeSyntax(e,t)},n)},memoizeBindingAttributeSyntax:function(e,t){return e.replace(n,function(){return r(arguments[4],arguments[1],arguments[2],t)}).replace(i,function(){return r(arguments[1],"\x3c!-- ko --\x3e","#comment",t)})},applyMemoizedBindingsToNextSibling:function(i,r){return H.memoization.memoize(function(e,t){var n=e.nextSibling;n&&n.nodeName.toLowerCase()===r&&H.applyBindingAccessorsToNode(n,i,t)})}}}(),H.exportSymbol("__tr_ambtns",H.templateRewriting.applyMemoizedBindingsToNextSibling),function(){H.templateSources={},H.templateSources.domElement=function(e){if(this.domElement=e){var t=H.utils.tagNameLower(e);this.templateType="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},H.templateSources.domElement.prototype.text=function(){var e=1===this.templateType?"text":2===this.templateType?"value":"innerHTML";if(0==arguments.length)return this.domElement[e];var t=arguments[0];"innerHTML"===e?H.utils.setHtml(this.domElement,t):this.domElement[e]=t};var t=H.utils.domData.nextKey()+"_";H.templateSources.domElement.prototype.data=function(e){if(1===arguments.length)return H.utils.domData.get(this.domElement,t+e);H.utils.domData.set(this.domElement,t+e,arguments[1])};var n=H.utils.domData.nextKey();function r(e){return H.utils.domData.get(e,n)||{}}function o(e,t){H.utils.domData.set(e,n,t)}H.templateSources.domElement.prototype.nodes=function(){var e=this.domElement;if(0==arguments.length){var t=r(e),n=t.containerData||(3===this.templateType?e.content:4===this.templateType?e:b);if(!n||t.alwaysCheckText){var i=this.text();i&&(n=H.utils.parseHtmlForTemplateNodes(i,e.ownerDocument),this.text(""),o(e,{containerData:n,alwaysCheckText:!0}))}return n}o(e,{containerData:arguments[0]})},H.templateSources.anonymousTemplate=function(e){this.domElement=e},H.templateSources.anonymousTemplate.prototype=new H.templateSources.domElement,H.templateSources.anonymousTemplate.prototype.constructor=H.templateSources.anonymousTemplate,H.templateSources.anonymousTemplate.prototype.text=function(){if(0==arguments.length){var e=r(this.domElement);return e.textData===b&&e.containerData&&(e.textData=e.containerData.innerHTML),e.textData}var t=arguments[0];o(this.domElement,{textData:t})},H.exportSymbol("templateSources",H.templateSources),H.exportSymbol("templateSources.domElement",H.templateSources.domElement),H.exportSymbol("templateSources.anonymousTemplate",H.templateSources.anonymousTemplate)}(),function(){var u;function i(e,t,n){for(var i,r=e,o=H.virtualElements.nextSibling(t);r&&(i=r)!==o;)n(i,r=H.virtualElements.nextSibling(i))}function p(e,t){if(e.length){var r=e[0],o=e[e.length-1],n=r.parentNode,s=H.bindingProvider.instance,a=s.preprocessNode;if(a){if(i(r,o,function(e,t){var n=e.previousSibling,i=a.call(s,e);i&&(e===r&&(r=i[0]||t),e===o&&(o=i[i.length-1]||n))}),e.length=0,!r)return;r===o?e.push(r):(e.push(r,o),H.utils.fixUpContinuousNodeArray(e,n))}i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||H.applyBindings(t,e)}),i(r,o,function(e){1!==e.nodeType&&8!==e.nodeType||H.memoization.unmemoizeDomNodeAndDescendants(e,[t])}),H.utils.fixUpContinuousNodeArray(e,n)}}function d(e){return e.nodeType?e:0<e.length?e[0]:null}function f(e,t,n,i,r){r=r||{};var o=(e&&d(e)||n||{}).ownerDocument,s=r.templateEngine||u;H.templateRewriting.ensureTemplateIsRewritten(n,s,o);var a=s.renderTemplate(n,i,r,o);if("number"!=typeof a.length||0<a.length&&"number"!=typeof a[0].nodeType)throw new Error("Template engine must return an array of DOM nodes");var l=!1;switch(t){case"replaceChildren":H.virtualElements.setDomNodeChildren(e,a),l=!0;break;case"replaceNode":H.utils.replaceDomNodes(e,a),l=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+t)}return l&&(p(a,i),r.afterRender&&H.dependencyDetection.ignore(r.afterRender,null,[a,i[r.as||"$data"]]),"replaceChildren"==t&&H.bindingEvent.notify(e,H.bindingEvent.childrenComplete)),a}function m(e,t,n){return H.isObservable(e)?e():"function"==typeof e?e(t,n):e}H.setTemplateEngine=function(e){if(e!=b&&!(e instanceof H.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");u=e},H.renderTemplate=function(i,r,o,s,a){if(((o=o||{}).templateEngine||u)==b)throw new Error("Set a template engine before calling renderTemplate");if(a=a||"replaceChildren",s){var l=d(s),e=l&&"replaceNode"==a?l.parentNode:l;return H.dependentObservable(function(){var e=r&&r instanceof H.bindingContext?r:new H.bindingContext(r,null,null,null,{exportDependencies:!0}),t=m(i,e.$data,e),n=f(s,a,t,e,o);"replaceNode"==a&&(l=d(s=n))},null,{disposeWhen:function(){return!l||!H.utils.domNodeIsAttachedToDocument(l)},disposeWhenNodeIsRemoved:e})}return H.memoization.memoize(function(e){H.renderTemplate(i,r,o,e,"replaceNode")})},H.renderTemplateForEach=function(i,t,r,o,s){var a,l=r.as,n=function(e,t){a=s.createChildContext(e,{as:l,noChildContext:r.noChildContext,extend:function(e){e.$index=t,l&&(e[l+"Index"]=t)}});var n=m(i,e,a);return f(o,"ignoreTargetNode",n,a,r)},u=function(e,t,n){p(t,a),r.afterRender&&r.afterRender(t,e),a=null},d=function(e,t){H.dependencyDetection.ignore(H.utils.setDomNodeChildrenFromArrayMapping,null,[o,e,n,r,u,t]),H.bindingEvent.notify(o,H.bindingEvent.childrenComplete)},c=!1===r.includeDestroyed||H.options.foreachHidesDestroyed&&!r.includeDestroyed;if(c||r.beforeRemove||!H.isObservableArray(t))return H.dependentObservable(function(){var e=H.utils.unwrapObservable(t)||[];void 0===e.length&&(e=[e]),c&&(e=H.utils.arrayFilter(e,function(e){return e===b||null===e||!H.utils.unwrapObservable(e._destroy)})),d(e)},null,{disposeWhenNodeIsRemoved:o});d(t.peek());var e=t.subscribe(function(e){d(t(),e)},null,"arrayChange");return e.disposeWhenNodeIsRemoved(o),e};var v=H.utils.domData.nextKey(),s=H.utils.domData.nextKey();H.bindingHandlers.template={init:function(e,t){var n=H.utils.unwrapObservable(t());if("string"==typeof n||n.name)H.virtualElements.emptyNode(e);else if("nodes"in n){var i=n.nodes||[];if(H.isObservable(i))throw new Error('The "nodes" option must be a plain, non-observable array.');(o=i[0]&&i[0].parentNode)&&H.utils.domData.get(o,s)||(o=H.utils.moveCleanedNodesToContainerElement(i),H.utils.domData.set(o,s,!0)),new H.templateSources.anonymousTemplate(e).nodes(o)}else{var r=H.virtualElements.childNodes(e);if(!(0<r.length))throw new Error("Anonymous template defined, but no template content was provided");var o=H.utils.moveCleanedNodesToContainerElement(r);new H.templateSources.anonymousTemplate(e).nodes(o)}return{controlsDescendantBindings:!0}},update:function(e,t,n,i,r){var o,s,a,l,u=t(),d=H.utils.unwrapObservable(u),c=!0,p=null;if("string"==typeof d?(o=u,d={}):(o=d.name,"if"in d&&(c=H.utils.unwrapObservable(d.if)),c&&"ifnot"in d&&(c=!H.utils.unwrapObservable(d.ifnot))),"foreach"in d){var f=c&&d.foreach||[];p=H.renderTemplateForEach(o||e,f,d,e,r)}else if(c){var m=r;"data"in d&&(m=r.createChildContext(d.data,{as:d.as,noChildContext:d.noChildContext,exportDependencies:!0})),p=H.renderTemplate(o||e,m,d,e)}else H.virtualElements.emptyNode(e);s=e,a=p,(l=H.utils.domData.get(s,v))&&"function"==typeof l.dispose&&l.dispose(),H.utils.domData.set(s,v,!a||a.isActive&&!a.isActive()?b:a)}},H.expressionRewriting.bindingRewriteValidators.template=function(e){var t=H.expressionRewriting.parseObjectLiteral(e);return 1==t.length&&t[0].unknown?null:H.expressionRewriting.keyValueArrayContainsKey(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},H.virtualElements.allowedBindings.template=!0}(),H.exportSymbol("setTemplateEngine",H.setTemplateEngine),H.exportSymbol("renderTemplate",H.renderTemplate),H.utils.findMovesInArrayComparison=function(e,t,n){var i,r,o,s,a;if(e.length&&t.length)for(i=r=0;(!n||i<n)&&(s=e[r]);++r){for(o=0;a=t[o];++o)if(s.value===a.value){s.moved=a.index,a.moved=s.index,t.splice(o,1),i=o=0;break}i+=o}},H.utils.compareArrays=function(){var i="deleted";function r(e,t,n,i,r){var o,s,a,l,u,d=Math.min,c=Math.max,p=[],f=e.length,m=t.length,b=m-f||1,v=f+m+1;for(o=0;o<=f;o++)for(l=a,p.push(a=[]),u=d(m,o+b),s=c(0,o-1);s<=u;s++)if(s)if(o)if(e[o-1]===t[s-1])a[s]=l[s-1];else{var g=l[s]||v,h=a[s-1]||v;a[s]=d(g,h)+1}else a[s]=s+1;else a[s]=o+1;var y,x=[],E=[],w=[];for(o=f,s=m;o||s;)y=p[o][s]-1,s&&y===p[o][s-1]?E.push(x[x.length]={status:n,value:t[--s],index:s}):o&&y===p[o-1][s]?w.push(x[x.length]={status:i,value:e[--o],index:o}):(--s,--o,r.sparse||x.push({status:"retained",value:t[s]}));return H.utils.findMovesInArrayComparison(w,E,!r.dontLimitMoves&&10*f),x.reverse()}return function(e,t,n){return n="boolean"==typeof n?{dontLimitMoves:n}:n||{},t=t||[],(e=e||[]).length<t.length?r(e,t,"added",i,n):r(t,e,i,"added",n)}}(),H.exportSymbol("utils.compareArrays",H.utils.compareArrays),function(){function F(t,n,i,r,o){var s=[],e=H.dependentObservable(function(){var e=n(i,o,H.utils.fixUpContinuousNodeArray(s,t))||[];0<s.length&&(H.utils.replaceDomNodes(s,e),r&&H.dependencyDetection.ignore(r,null,[i,e,o])),s.length=0,H.utils.arrayPushAll(s,e)},null,{disposeWhenNodeIsRemoved:t,disposeWhen:function(){return!H.utils.anyDomNodeIsAttachedToDocument(s)}});return{mappedNodes:s,dependentObservable:e.isActive()?e:b}}var B=H.utils.domData.nextKey(),V=H.utils.domData.nextKey();H.utils.setDomNodeChildrenFromArrayMapping=function(t,e,n,i,r,o){void 0===(e=e||[]).length&&(e=[e]),i=i||{};var s,a,l,u,d,c,p,f=H.utils.domData.get(t,B),m=!f,v=[],g=0,h=0,y=[],x=[],E=[],w=[],C=[],S=0;function D(e){s={arrayEntry:e,indexObservable:H.observable(h++)},v.push(s),m||C.push(s)}function N(e){s=f[e],h!==e&&w.push(s),s.indexObservable(h++),H.utils.fixUpContinuousNodeArray(s.mappedNodes,t),v.push(s)}function T(t,n){if(t)for(var i=0,e=n.length;i<e;i++)H.utils.arrayForEach(n[i].mappedNodes,function(e){t(e,i,n[i].arrayEntry)})}if(m)H.utils.arrayForEach(e,D);else{if(!o||f&&f._countWaitingForRemove){var k=m?[]:H.utils.arrayMap(f,function(e){return e.arrayEntry}),O={dontLimitMoves:i.dontLimitMoves,sparse:!0};o=H.utils.compareArrays(k,e,O)}for(var _,I,A,R=0;_=o[R];R++)switch(I=_.moved,A=_.index,_.status){case"deleted":for(;g<A;)N(g++);I===b&&((s=f[g]).dependentObservable&&(s.dependentObservable.dispose(),s.dependentObservable=b),H.utils.fixUpContinuousNodeArray(s.mappedNodes,t).length&&(i.beforeRemove&&(v.push(s),S++,s.arrayEntry===V?s=null:E.push(s)),s&&y.push.apply(y,s.mappedNodes))),g++;break;case"added":for(;h<A;)N(g++);I!==b?(x.push(h),N(I)):D(_.value)}for(;h<e.length;)N(g++);v._countWaitingForRemove=S}H.utils.domData.set(t,B,v),T(i.beforeMove,w),H.utils.arrayForEach(y,i.beforeRemove?H.cleanNode:H.removeNode);try{p=t.ownerDocument.activeElement}catch(e){}if(x.length)for(;(R=x.shift())!=b;){for(s=v[R],u=b;R;)if((c=v[--R].mappedNodes)&&c.length){u=c[c.length-1];break}for(a=0;d=s.mappedNodes[a];u=d,a++)H.virtualElements.insertAfter(t,d,u)}for(R=0,l=H.virtualElements.firstChild(t);s=v[R];R++){for(s.mappedNodes||H.utils.extend(s,F(t,n,s.arrayEntry,r,s.indexObservable)),a=0;d=s.mappedNodes[a];l=d.nextSibling,u=d,a++)d!==l&&H.virtualElements.insertAfter(t,d,u);!s.initialized&&r&&(r(s.arrayEntry,s.mappedNodes,s.indexObservable),s.initialized=!0)}for(p&&t.ownerDocument.activeElement!=p&&p.focus(),T(i.beforeRemove,E),R=0;R<E.length;++R)E[R].arrayEntry=V;T(i.afterMove,w),T(i.afterAdd,C)}}(),H.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",H.utils.setDomNodeChildrenFromArrayMapping),H.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},H.nativeTemplateEngine.prototype=new H.templateEngine,H.nativeTemplateEngine.prototype.constructor=H.nativeTemplateEngine,H.nativeTemplateEngine.prototype.renderTemplateSource=function(e,t,n,i){var r=H.utils.ieVersion<9||!e.nodes?null:e.nodes();if(r)return H.utils.makeArray(r.cloneNode(!0).childNodes);var o=e.text();return H.utils.parseHtmlFragment(o,i)},H.nativeTemplateEngine.instance=new H.nativeTemplateEngine,H.setTemplateEngine(H.nativeTemplateEngine.instance),H.exportSymbol("nativeTemplateEngine",H.nativeTemplateEngine),function(){H.jqueryTmplTemplateEngine=function(){var c=this.jQueryTmplVersion=function(){if(!f||!f.tmpl)return 0;try{if(0<=f.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(e,t,n,i){i=i||d,n=n||{},function(){if(c<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}();var r=e.data("precompiled");if(!r){var o=e.text()||"";o="{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}",r=f.template(null,o),e.data("precompiled",r)}var s,a,l,u=(s=r,a=[t.$data],l=f.extend({koBindingContext:t},n.templateOptions),f.tmpl(s,a,l));return u.appendTo(i.createElement("div")),f.fragments={},u},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){d.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<c&&(f.tmpl.tag.ko_code={open:"__.push($1 || '');"},f.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},H.jqueryTmplTemplateEngine.prototype=new H.templateEngine,H.jqueryTmplTemplateEngine.prototype.constructor=H.jqueryTmplTemplateEngine;var e=new H.jqueryTmplTemplateEngine;0<e.jQueryTmplVersion&&H.setTemplateEngine(e),H.exportSymbol("jqueryTmplTemplateEngine",H.jqueryTmplTemplateEngine)}()},"function"==typeof define&&define.amd?define(["exports","require"],h):"object"==typeof exports&&"object"==typeof module?h(module.exports||exports):h(c.ko={})}();